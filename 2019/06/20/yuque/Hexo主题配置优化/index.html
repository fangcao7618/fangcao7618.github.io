<!DOCTYPE html><html class="theme-next gemini use-motion" lang="zh-Hans"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#222"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Lobster Two:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4"><link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222"><meta name="keywords" content="Hexo, NexT"><meta name="description" content="1.基本信息配置 基本信息包括：博客标题.作者.描述.语言等等。  打开 站点配置文件 ，找到Site模块  title: 标题subtitle: 副标题description: 描述author: 作者language: 语言（简体中文是zh-Hans）timezone: 网站时区（Hexo 默认使用您电脑的时区，不用写）  关于 站点配置文件 中的其他配置可参考站点配置 2.菜单设置 菜单包"><meta property="og:type" content="article"><meta property="og:title" content="Hexo主题配置优化"><meta property="og:url" content="http://yoursite.com/2019/06/20/yuque/Hexo主题配置优化/index.html"><meta property="og:site_name" content="FangCao"><meta property="og:description" content="1.基本信息配置 基本信息包括：博客标题.作者.描述.语言等等。  打开 站点配置文件 ，找到Site模块  title: 标题subtitle: 副标题description: 描述author: 作者language: 语言（简体中文是zh-Hans）timezone: 网站时区（Hexo 默认使用您电脑的时区，不用写）  关于 站点配置文件 中的其他配置可参考站点配置 2.菜单设置 菜单包"><meta property="og:locale" content="zh-Hans"><meta property="og:image" content="https://cdn.nlark.com/yuque/0/2019/png/263301/1561011982566-18a89b20-14d0-406e-bbb1-49ab0dfa5f86.png#align=left&display=inline&height=412&originHeight=412&originWidth=1438&size=0&status=done&width=1438"><meta property="og:image" content="https://cdn.nlark.com/yuque/0/2019/png/263301/1561011982572-4fb8d3e3-e3ec-4d0a-9edd-699bcd982b82.png#align=left&display=inline&height=930&originHeight=930&originWidth=990&size=0&status=done&width=990"><meta property="og:updated_time" content="2019-06-20T10:19:15.838Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Hexo主题配置优化"><meta name="twitter:description" content="1.基本信息配置 基本信息包括：博客标题.作者.描述.语言等等。  打开 站点配置文件 ，找到Site模块  title: 标题subtitle: 副标题description: 描述author: 作者language: 语言（简体中文是zh-Hans）timezone: 网站时区（Hexo 默认使用您电脑的时区，不用写）  关于 站点配置文件 中的其他配置可参考站点配置 2.菜单设置 菜单包"><meta name="twitter:image" content="https://cdn.nlark.com/yuque/0/2019/png/263301/1561011982566-18a89b20-14d0-406e-bbb1-49ab0dfa5f86.png#align=left&display=inline&height=412&originHeight=412&originWidth=1438&size=0&status=done&width=1438"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Gemini",version:"5.1.4",sidebar:{position:"left",display:"always",offset:12,b2t:!0,scrollpercent:!0,onmobile:!1},fancybox:!0,tabs:!0,motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},duoshuo:{userId:"0",author:"博主"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><link rel="canonical" href="http://yoursite.com/2019/06/20/yuque/Hexo主题配置优化/"><title>Hexo主题配置优化 | FangCao</title><script type="text/javascript">var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?f6bca865fcf2ff03fc0a96417de90b09";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></head><canvas class="fireworks" style="position:fixed;left:0;top:0;z-index:1;pointer-events:none"></canvas><script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script><script type="text/javascript" src="/js/src/fireworks.js"></script><body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans"><div class="container sidebar-position-left page-post-detail"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">FangCao</span><span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle"></p></div><div class="site-nav-toggle"> <button><span class="btn-bar"></span><span class="btn-bar"></span><span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br> 首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br> 标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br> 分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br> 归档</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br> 搜索</a></li></ul><div class="site-search"><div class="popup search-popup local-search-popup"><div class="local-search-header clearfix"><span class="search-icon"><i class="fa fa-search"></i></span><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span><div class="local-search-input-wrapper"> <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input"></div></div><div id="local-search-result"></div></div></div></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/06/20/yuque/Hexo主题配置优化/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="FangCao"><meta itemprop="description" content><meta itemprop="image" content="/uploads/1916867.png"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="FangCao"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Hexo主题配置优化</h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-06-20T14:26:03+08:00">2019-06-20</time></span> <span class="post-comments-count"><span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-comment-o"></i></span><a href="/2019/06/20/yuque/Hexo主题配置优化/#comments" itemprop="discussionUrl"><span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/06/20/yuque/Hexo主题配置优化/" itemprop="commentCount"></span></a></span><div class="post-wordcount"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i></span> <span class="post-meta-item-text">字数统计&#58;</span> <span title="字数统计">5k 字</span> <span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-clock-o"></i></span> <span class="post-meta-item-text">阅读时长 &asymp;</span> <span title="阅读时长">24 分钟</span></div></div></header><div class="post-body" itemprop="articleBody"><p><a name="xOxY5"></a></p><h2 id="1-基本信息配置"><a href="#1-基本信息配置" class="headerlink" title="1.基本信息配置"></a>1.基本信息配置</h2><blockquote><p>基本信息包括：博客标题.作者.描述.语言等等。</p></blockquote><p>打开 <strong>站点配置文件</strong> ，找到Site模块</p><blockquote><p>title: 标题<br>subtitle: 副标题<br>description: 描述<br>author: 作者<br>language: 语言（简体中文是zh-Hans）<br>timezone: 网站时区（Hexo 默认使用您电脑的时区，不用写）</p></blockquote><p>关于 <strong>站点配置文件</strong> 中的其他配置可参考<a href="https://hexo.io/zh-cn/docs/configuration.html" target="_blank" rel="noopener">站点配置</a><br><a name="qT0tD"></a></p><h2 id="2-菜单设置"><a href="#2-菜单设置" class="headerlink" title="2.菜单设置"></a><a href="https://selfishluck.top/2018/12/21/Hexo%E4%B8%BB%E9%A2%98%E7%9A%84%E4%B8%80%E4%BA%9B%E9%85%8D%E7%BD%AE/#2-%E8%8F%9C%E5%8D%95%E8%AE%BE%E7%BD%AE" target="_blank" rel="noopener"></a>2.菜单设置</h2><blockquote><p>菜单包括：首页、归档、分类、标签、关于等等</p></blockquote><p>我们刚开始默认的菜单只有首页和归档两个，不能够满足我们的要求，所以需要添加菜单，打开 <strong>主题配置文件</strong> 找到<code>Menu Settings</code></p><blockquote><p>menu:<br> home: / || home //首页<br> archives: /archives/ || archive //归档<br> categories: /categories/ || th //分类<br> tags: /tags/ || tags //标签<br> about: /about/ || user //关于</p><p> #schedule: /schedule/ || calendar //日程表</p><p> #sitemap: /sitemap.xml || sitemap //站点地图</p><p> #commonweal: /404/ || heartbeat //公益404</p></blockquote><p>看看你需要哪个菜单就把哪个取消注释打开就行了；<br>关于后面的格式，以<code>archives: /archives/ || archive</code>为例：<br><code>||</code> 之前的<code>/archives/</code>表示标题“归档”，关于标题的格式可以去<code>themes/next/languages/zh-Hans.yml</code>中参考或修改<br><code>||</code>之后的<code>archive</code>表示图标，可以去<a href="https://link.jianshu.com/?t=http%3A%2F%2Ffontawesome.io%2Ficons%2F" target="_blank" rel="noopener">Font Awesome</a>中查看或修改，Next主题所有的图标都来自Font Awesome。<br><a name="OhsvD"></a></p><h2 id="3-Next主题样式设置"><a href="#3-Next主题样式设置" class="headerlink" title="3.Next主题样式设置"></a><a href="https://selfishluck.top/2018/12/21/Hexo%E4%B8%BB%E9%A2%98%E7%9A%84%E4%B8%80%E4%BA%9B%E9%85%8D%E7%BD%AE/#3-Next%E4%B8%BB%E9%A2%98%E6%A0%B7%E5%BC%8F%E8%AE%BE%E7%BD%AE" target="_blank" rel="noopener"></a>3.Next主题样式设置</h2><p>我们百里挑一选择了Next主题，不过Next主题还有4种风格供我们选择，打开 <strong>主题配置文件</strong> 找到<code>Scheme Settings</code></p><blockquote><h1 id="Schemes"><a href="#Schemes" class="headerlink" title="Schemes"></a>Schemes</h1><h1 id="scheme-Muse"><a href="#scheme-Muse" class="headerlink" title="scheme: Muse"></a>scheme: Muse</h1><h1 id="scheme-Mist"><a href="#scheme-Mist" class="headerlink" title="scheme: Mist"></a>scheme: Mist</h1><h1 id="scheme-Pisces"><a href="#scheme-Pisces" class="headerlink" title="scheme: Pisces"></a>scheme: Pisces</h1><p>scheme: Gemini</p></blockquote><p>4种风格大同小异，本人用的是<a href="https://link.jianshu.com/?t=https%3A%2F%2Fyoungerli.github.io" target="_blank" rel="noopener">Gemini</a>风格，你们可以选择自己喜欢的风格。<br><a name="YdUaZ"></a></p><h2 id="4-侧栏设置"><a href="#4-侧栏设置" class="headerlink" title="4.侧栏设置"></a><a href="https://selfishluck.top/2018/12/21/Hexo%E4%B8%BB%E9%A2%98%E7%9A%84%E4%B8%80%E4%BA%9B%E9%85%8D%E7%BD%AE/#4-%E4%BE%A7%E6%A0%8F%E8%AE%BE%E7%BD%AE" target="_blank" rel="noopener"></a>4.侧栏设置</h2><blockquote><p>侧栏设置包括：侧栏位置.侧栏显示与否.文章间距.返回顶部按钮等等</p></blockquote><p>打开 <strong>主题配置文件</strong> 找到<code>sidebar</code>字段</p><blockquote><p>sidebar:</p><h1 id="Sidebar-Position-侧栏位置（只对Pisces-Gemini两种风格有效）"><a href="#Sidebar-Position-侧栏位置（只对Pisces-Gemini两种风格有效）" class="headerlink" title="Sidebar Position - 侧栏位置（只对Pisces | Gemini两种风格有效）"></a>Sidebar Position - 侧栏位置（只对Pisces | Gemini两种风格有效）</h1><p> position: left //靠左放置</p><p> #position: right //靠右放置</p><h1 id="Sidebar-Display-侧栏显示时机（只对Muse-Mist两种风格有效）"><a href="#Sidebar-Display-侧栏显示时机（只对Muse-Mist两种风格有效）" class="headerlink" title="Sidebar Display - 侧栏显示时机（只对Muse | Mist两种风格有效）"></a>Sidebar Display - 侧栏显示时机（只对Muse | Mist两种风格有效）</h1><p> #display: post //默认行为，在文章页面（拥有目录列表）时显示<br> display: always //在所有页面中都显示</p><p> #display: hide //在所有页面中都隐藏（可以手动展开）</p><p> #display: remove //完全移除<br> offset: 12 //文章间距（只对Pisces | Gemini两种风格有效）<br> b2t: false //返回顶部按钮（只对Pisces | Gemini两种风格有效）<br> scrollpercent: true //返回顶部按钮的百分比</p></blockquote><p><a name="8Z8Qi"></a></p><h2 id="5-头像设置"><a href="#5-头像设置" class="headerlink" title="5.头像设置"></a><a href="https://selfishluck.top/2018/12/21/Hexo%E4%B8%BB%E9%A2%98%E7%9A%84%E4%B8%80%E4%BA%9B%E9%85%8D%E7%BD%AE/#5-%E5%A4%B4%E5%83%8F%E8%AE%BE%E7%BD%AE" target="_blank" rel="noopener"></a>5.头像设置</h2><p>打开 <strong>主题配置文件</strong> 找到<code>Sidebar Avatar</code>字段</p><blockquote><h1 id="Sidebar-Avatar"><a href="#Sidebar-Avatar" class="headerlink" title="Sidebar Avatar"></a>Sidebar Avatar</h1></blockquote><blockquote><p>avatar: /images/header.jpg</p></blockquote><p>这是头像的路径，只需把你的头像命名为<code>header.jpg</code>（随便命名）放入<code>themes/next/source/images</code>中，将<code>avatar</code>的路径名改成你的头像名就OK啦！<br><a name="ZbVL5"></a></p><h2 id="6-评论系统"><a href="#6-评论系统" class="headerlink" title="6.评论系统"></a><a href="https://selfishluck.top/2018/12/21/Hexo%E4%B8%BB%E9%A2%98%E7%9A%84%E4%B8%80%E4%BA%9B%E9%85%8D%E7%BD%AE/#6-%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F" target="_blank" rel="noopener"></a>6.评论系统</h2><table><thead><tr><th align="left"></th><th align="left">推荐指数</th><th align="left">优点</th><th align="left">缺点</th></tr></thead><tbody><tr><td align="left"><a href="https://valine.js.org/" target="_blank" rel="noopener">Valine</a></td><td align="left">4</td><td align="left">每天30000条评论，10GB的储存</td><td align="left">作者评论无标识</td></tr><tr><td align="left"><a href="https://livere.com/" target="_blank" rel="noopener">来必力/livere</a></td><td align="left">4</td><td align="left">多种账号登录</td><td align="left">评论无法导出</td></tr><tr><td align="left"><a href="http://changyan.kuaizhan.com/" target="_blank" rel="noopener">畅言</a></td><td align="left">3</td><td align="left">美观</td><td align="left">必须备案域名</td></tr><tr><td align="left"><a href="https://github.com/imsun/gitment" target="_blank" rel="noopener">gitment</a></td><td align="left">3</td><td align="left">简洁</td><td align="left">只能登陆github评论</td></tr><tr><td align="left">Disqus</td><td align="left">1</td><td align="left"></td><td align="left">需要翻*墙</td></tr></tbody></table><p><a name="nBL5l"></a></p><h5 id="来必力"><a href="#来必力" class="headerlink" title="来必力"></a><a href="https://selfishluck.top/2018/12/21/Hexo%E4%B8%BB%E9%A2%98%E7%9A%84%E4%B8%80%E4%BA%9B%E9%85%8D%E7%BD%AE/#%E6%9D%A5%E5%BF%85%E5%8A%9B" target="_blank" rel="noopener"></a>来必力</h5><p>2.1. 登陆 <a href="https://livere.com/" target="_blank" rel="noopener">来必力</a> 获取你的 LiveRe UID。<br>2.2. 填写LiveRe UID到主题配置文件<code>_config.yml</code><br><br><a name="QX724"></a></p><h2 id="7-添加标签页"><a href="#7-添加标签页" class="headerlink" title="7.添加标签页"></a><a href="https://selfishluck.top/2018/12/21/Hexo%E4%B8%BB%E9%A2%98%E7%9A%84%E4%B8%80%E4%BA%9B%E9%85%8D%E7%BD%AE/#7-%E6%B7%BB%E5%8A%A0%E6%A0%87%E7%AD%BE%E9%A1%B5" target="_blank" rel="noopener"></a>7.添加标签页</h2><blockquote><p>添加一个标签页面，里面包含您网站中的所有标签。<a href="https://www.jianshu.com/p/e17711e44e00" target="_blank" rel="noopener">参考链接</a></p></blockquote><p>一个创建³³名为<code>tags</code>页面</p><blockquote><p>hexo new page “tags”</p></blockquote><p>编辑标签页，设置页面类型为<code>tags</code>。</p><blockquote><p>title: All tags</p></blockquote><blockquote><p>date: 2014-12-22 12:39:04</p></blockquote><blockquote><p>type: “tags”</p></blockquote><p>添加<code>tags</code>到主题配置文件<code>_config.yml</code>里：</p><blockquote><p>menu:</p></blockquote><blockquote><p> home: /</p></blockquote><blockquote><p> archives: /archives</p></blockquote><blockquote><p> tags: /tags</p></blockquote><p>详细解释：</p><p><a name="NglJO"></a></p><h2 id="8-添加分类页"><a href="#8-添加分类页" class="headerlink" title="8.添加分类页"></a><a href="https://selfishluck.top/2018/12/21/Hexo%E4%B8%BB%E9%A2%98%E7%9A%84%E4%B8%80%E4%BA%9B%E9%85%8D%E7%BD%AE/#8-%E6%B7%BB%E5%8A%A0%E5%88%86%E7%B1%BB%E9%A1%B5" target="_blank" rel="noopener"></a>8.添加分类页</h2><blockquote><p>添加一个分类页面，里面包含您网站中的所有分类。</p></blockquote><p>一个创建³³名为<code>categories</code>页面</p><blockquote><p>hexo new page “categories”</p></blockquote><p>编辑分类页，设置页面类型为<code>categories</code>。</p><blockquote><p>title: All categories</p></blockquote><blockquote><p>date: 2014-12-22 12:39:04</p></blockquote><blockquote><p>type: “categories”</p></blockquote><p>添加 <code>categories</code>到主题配置文件<code>_config.yml</code>里：</p><blockquote><p>menu:</p></blockquote><blockquote><p> home: /</p></blockquote><blockquote><p> archives: /archives</p></blockquote><blockquote><p> categories: /categories</p></blockquote><p>详细解释：</p><p>参考截图:</p><p><a name="wnwNU"></a></p><h2 id="9-添加萌萌哒宠物"><a href="#9-添加萌萌哒宠物" class="headerlink" title="9.添加萌萌哒宠物"></a><a href="https://selfishluck.top/2018/12/21/Hexo%E4%B8%BB%E9%A2%98%E7%9A%84%E4%B8%80%E4%BA%9B%E9%85%8D%E7%BD%AE/#9-%E6%B7%BB%E5%8A%A0%E8%90%8C%E8%90%8C%E5%93%92%E5%AE%A0%E7%89%A9" target="_blank" rel="noopener"></a>9.添加萌萌哒宠物</h2><p>具体参考官方文档：<a href="https://github.com/EYHN/hexo-helper-live2d/blob/master/README.zh-CN.md#c-npm-%E6%A8%A1%E5%9D%97%E5%90%8D" target="_blank" rel="noopener">点击跳转</a><br><a name="JPfvA"></a></p><h4 id="1-安装模块"><a href="#1-安装模块" class="headerlink" title="1.安装模块:"></a><a href="https://selfishluck.top/2018/12/21/Hexo%E4%B8%BB%E9%A2%98%E7%9A%84%E4%B8%80%E4%BA%9B%E9%85%8D%E7%BD%AE/#1-%E5%AE%89%E8%A3%85%E6%A8%A1%E5%9D%97" target="_blank" rel="noopener"></a>1.安装模块:</h4><blockquote><p>npm install –save hexo-helper-live2d</p></blockquote><p><a name="aPSGH"></a></p><h4 id="2-配置"><a href="#2-配置" class="headerlink" title="2.配置"></a><a href="https://selfishluck.top/2018/12/21/Hexo%E4%B8%BB%E9%A2%98%E7%9A%84%E4%B8%80%E4%BA%9B%E9%85%8D%E7%BD%AE/#2-%E9%85%8D%E7%BD%AE" target="_blank" rel="noopener"></a>2.配置</h4><p>请向Hexo的 <code>_config.yml</code> 文件或主题的 <code>_config.yml</code> 文件中添加配置.<br>示例:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">live2d:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  scriptFrom:</span> <span class="string">local</span></span><br><span class="line"><span class="attr">  pluginRootPath:</span> <span class="string">live2dw/</span></span><br><span class="line"><span class="attr">  pluginJsPath:</span> <span class="string">lib/</span></span><br><span class="line"><span class="attr">  pluginModelPath:</span> <span class="string">assets/</span></span><br><span class="line"><span class="attr">  tagMode:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  debug:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  model:</span></span><br><span class="line"><span class="attr">    use:</span> <span class="string">live2d-widget-model-wanko</span></span><br><span class="line"><span class="attr">  display:</span></span><br><span class="line"><span class="attr">    position:</span> <span class="string">right</span></span><br><span class="line"><span class="attr">    width:</span> <span class="number">150</span></span><br><span class="line"><span class="attr">    height:</span> <span class="number">300</span></span><br><span class="line"><span class="attr">  mobile:</span></span><br><span class="line"><span class="attr">    show:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>详解:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">live2d:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># enable: false</span></span><br><span class="line"><span class="attr">  scriptFrom:</span> <span class="string">local</span> <span class="comment"># 默认</span></span><br><span class="line"><span class="attr">  pluginRootPath:</span> <span class="string">live2dw/</span> <span class="comment"># 插件在站点上的根目录(相对路径)</span></span><br><span class="line"><span class="attr">  pluginJsPath:</span> <span class="string">lib/</span> <span class="comment"># 脚本文件相对与插件根目录路径</span></span><br><span class="line"><span class="attr">  pluginModelPath:</span> <span class="string">assets/</span> <span class="comment"># 模型文件相对与插件根目录路径</span></span><br><span class="line">  <span class="comment"># scriptFrom: jsdelivr # jsdelivr CDN</span></span><br><span class="line">  <span class="comment"># scriptFrom: unpkg # unpkg CDN</span></span><br><span class="line">  <span class="comment"># scriptFrom: https://cdn.jsdelivr.net/npm/live2d-widget@3.x/lib/L2Dwidget.min.js # 你的自定义 url</span></span><br><span class="line"><span class="attr">  tagMode:</span> <span class="literal">false</span> <span class="comment"># 标签模式, 是否仅替换 live2d tag标签而非插入到所有页面中</span></span><br><span class="line"><span class="attr">  debug:</span> <span class="literal">false</span> <span class="comment"># 调试, 是否在控制台输出日志</span></span><br><span class="line"><span class="attr">  model:</span></span><br><span class="line"><span class="attr">    use:</span> <span class="string">live2d-widget-model-wanko</span> <span class="comment"># npm-module package name</span></span><br><span class="line">    <span class="comment"># use: wanko # 博客根目录/live2d_models/ 下的目录名</span></span><br><span class="line">    <span class="comment"># use: ./wives/wanko # 相对于博客根目录的路径</span></span><br><span class="line">    <span class="comment"># use: https://cdn.jsdelivr.net/npm/live2d-widget-model-wanko@1.0.5/assets/wanko.model.json # 你的自定义 url</span></span><br></pre></td></tr></table></figure><p><a name="Xjq73"></a></p><h4 id="3-模型"><a href="#3-模型" class="headerlink" title="3.模型"></a>3.模型</h4><p>有许多方法来使用不同的模型:<br><a name="MDcoq"></a></p><h5 id="a-live2d-models子目录名称"><a href="#a-live2d-models子目录名称" class="headerlink" title="a. live2d_models子目录名称"></a><a href="https://selfishluck.top/2018/12/21/Hexo%E4%B8%BB%E9%A2%98%E7%9A%84%E4%B8%80%E4%BA%9B%E9%85%8D%E7%BD%AE/#a-live2d-models%E5%AD%90%E7%9B%AE%E5%BD%95%E5%90%8D%E7%A7%B0" target="_blank" rel="noopener"></a>a. live2d_models子目录名称</h5><ol><li><p>在您博客根目录下创建一个 <code>live2d_models</code> 文件夹.</p></li><li><p>在此文件夹内新建名为 <code>shizuku</code> （模型名字）的子文件夹.</p></li><li><p>在这里应当有一个 <code>.model.json</code> 文件 (例如 <code>shizuku.model.json</code>)</p></li><li><p>将子文件夹的名称输入 <code>_config.yml</code> 的 <code>model.use</code> 中.</p></li></ol><p><a name="ERXvg"></a></p><h5 id="b-相对于博客根目录的自定义路径"><a href="#b-相对于博客根目录的自定义路径" class="headerlink" title="b. 相对于博客根目录的自定义路径"></a><a href="https://selfishluck.top/2018/12/21/Hexo%E4%B8%BB%E9%A2%98%E7%9A%84%E4%B8%80%E4%BA%9B%E9%85%8D%E7%BD%AE/#b-%E7%9B%B8%E5%AF%B9%E4%BA%8E%E5%8D%9A%E5%AE%A2%E6%A0%B9%E7%9B%AE%E5%BD%95%E7%9A%84%E8%87%AA%E5%AE%9A%E4%B9%89%E8%B7%AF%E5%BE%84" target="_blank" rel="noopener"></a>b. 相对于博客根目录的自定义路径</h5><p>您可直接输入<strong>相对于博客根目录</strong>的自定义路径到 <code>model.use</code> 中.<br>示例: <code>./wives/wanko</code><br><a name="GFKsM"></a></p><h5 id="c-npm-模块名（走这步就可以了）"><a href="#c-npm-模块名（走这步就可以了）" class="headerlink" title="c. npm 模块名（走这步就可以了）"></a><a href="https://selfishluck.top/2018/12/21/Hexo%E4%B8%BB%E9%A2%98%E7%9A%84%E4%B8%80%E4%BA%9B%E9%85%8D%E7%BD%AE/#c-npm-%E6%A8%A1%E5%9D%97%E5%90%8D" target="_blank" rel="noopener"></a>c. npm 模块名（走这步就可以了）</h5><p>现有模型：<a href="https://github.com/xiazeyu/live2d-widget-models" target="_blank" rel="noopener">https://github.com/xiazeyu/live2d-widget-models</a><br>对应的模型图片：<a href="https://huaji8.top/post/live2d-plugin-2.0/" target="_blank" rel="noopener">https://huaji8.top/post/live2d-plugin-2.0/</a><br><a href="https://github.com/xiazeyu/live2d-widget-models" target="_blank" rel="noopener">模型地址</a><br><code>npm install --save live2d-widget-model-xxx</code> 来安装<br>然后你就可以通过向 <code>model.use</code> 键入包名 (<code>live2d-widget-model-wanko</code>) 来使用了.<br><a name="9Bjl2"></a></p><h2 id="10-首页阅读全文"><a href="#10-首页阅读全文" class="headerlink" title="10.首页阅读全文"></a><a href="https://selfishluck.top/2018/12/21/Hexo%E4%B8%BB%E9%A2%98%E7%9A%84%E4%B8%80%E4%BA%9B%E9%85%8D%E7%BD%AE/#10-%E9%A6%96%E9%A1%B5%E9%98%85%E8%AF%BB%E5%85%A8%E6%96%87" target="_blank" rel="noopener"></a>10.首页阅读全文</h2><p>Hexo 的 Next 主题默认是首页显示你每篇文章的全文内容，但这会使你的首页篇幅过于冗长，针对这个问题我们可以这么做：<br>用编辑器打开themes/next 目录下的_config.yml文件<br>找到代码：</p><blockquote><p>auto_excerpt:</p></blockquote><blockquote><pre><code>enable: false</code></pre></blockquote><blockquote><pre><code>length: 150</code></pre></blockquote><p>将enable的 false改成true，length可以设定文章预览的文本长度。<br><a name="0xAL3"></a></p><h2 id="11-修改背景图片"><a href="#11-修改背景图片" class="headerlink" title="11.修改背景图片"></a><a href="https://selfishluck.top/2018/12/21/Hexo%E4%B8%BB%E9%A2%98%E7%9A%84%E4%B8%80%E4%BA%9B%E9%85%8D%E7%BD%AE/#11-%E4%BF%AE%E6%94%B9%E8%83%8C%E6%99%AF%E5%9B%BE%E7%89%87" target="_blank" rel="noopener"></a>11.修改背景图片</h2><p>在 themes/*/source/css/_custom/custom.styl 中添加如下代码：</p><blockquote><table><thead><tr><th align="left">// 添加背景图 bg.jpg为图片名称body{ background:url(/images/bg.jpg); background-size:cover; background-repeat:no-repeat; background-attachment:fixed; background-position:center;}</th></tr></thead></table></blockquote><blockquote></blockquote><p><a name="lQ4zs"></a></p><h2 id="12-实现点击出现桃心效果"><a href="#12-实现点击出现桃心效果" class="headerlink" title="12.实现点击出现桃心效果"></a><a href="https://selfishluck.top/2018/12/21/Hexo%E4%B8%BB%E9%A2%98%E7%9A%84%E4%B8%80%E4%BA%9B%E9%85%8D%E7%BD%AE/#12-%E5%AE%9E%E7%8E%B0%E7%82%B9%E5%87%BB%E5%87%BA%E7%8E%B0%E6%A1%83%E5%BF%83%E6%95%88%E6%9E%9C" target="_blank" rel="noopener"></a>12.实现点击出现桃心效果</h2><ol><li>在<code>/themes/*/source/js/src</code>下新建文件<code>click.js</code>，接着把以下粘贴到<code>click.js</code>文件中。<br>代码如下：</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!<span class="function"><span class="keyword">function</span>(<span class="params">e,t,a</span>)</span>&#123;<span class="function"><span class="keyword">function</span> <span class="title">n</span>(<span class="params"></span>)</span>&#123;c(<span class="string">".heart&#123;width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);&#125;.heart:after,.heart:before&#123;content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;&#125;.heart:after&#123;top: -5px;&#125;.heart:before&#123;left: -5px;&#125;"</span>),o(),r()&#125;<span class="function"><span class="keyword">function</span> <span class="title">r</span>(<span class="params"></span>)</span>&#123;<span class="keyword">for</span>(<span class="keyword">var</span> e=<span class="number">0</span>;e&lt;d.length;e++)d[e].alpha&lt;=<span class="number">0</span>?(t.body.removeChild(d[e].el),d.splice(e,<span class="number">1</span>)):(d[e].y--,d[e].scale+=<span class="number">.004</span>,d[e].alpha-=<span class="number">.013</span>,d[e].el.style.cssText=<span class="string">"left:"</span>+d[e].x+<span class="string">"px;top:"</span>+d[e].y+<span class="string">"px;opacity:"</span>+d[e].alpha+<span class="string">";transform:scale("</span>+d[e].scale+<span class="string">","</span>+d[e].scale+<span class="string">") rotate(45deg);background:"</span>+d[e].color+<span class="string">";z-index:99999"</span>);requestAnimationFrame(r)&#125;<span class="function"><span class="keyword">function</span> <span class="title">o</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> t=<span class="string">"function"</span>==<span class="keyword">typeof</span> e.onclick&amp;&amp;e.onclick;e.onclick=<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;t&amp;&amp;t(),i(e)&#125;&#125;<span class="function"><span class="keyword">function</span> <span class="title">i</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">var</span> a=t.createElement(<span class="string">"div"</span>);a.className=<span class="string">"heart"</span>,d.push(&#123;<span class="attr">el</span>:a,<span class="attr">x</span>:e.clientX<span class="number">-5</span>,<span class="attr">y</span>:e.clientY<span class="number">-5</span>,<span class="attr">scale</span>:<span class="number">1</span>,<span class="attr">alpha</span>:<span class="number">1</span>,<span class="attr">color</span>:s()&#125;),t.body.appendChild(a)&#125;<span class="function"><span class="keyword">function</span> <span class="title">c</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">var</span> a=t.createElement(<span class="string">"style"</span>);a.type=<span class="string">"text/css"</span>;<span class="keyword">try</span>&#123;a.appendChild(t.createTextNode(e))&#125;<span class="keyword">catch</span>(t)&#123;a.styleSheet.cssText=e&#125;t.getElementsByTagName(<span class="string">"head"</span>)[<span class="number">0</span>].appendChild(a)&#125;<span class="function"><span class="keyword">function</span> <span class="title">s</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span><span class="string">"rgb("</span>+~~(<span class="number">255</span>*<span class="built_in">Math</span>.random())+<span class="string">","</span>+~~(<span class="number">255</span>*<span class="built_in">Math</span>.random())+<span class="string">","</span>+~~(<span class="number">255</span>*<span class="built_in">Math</span>.random())+<span class="string">")"</span>&#125;<span class="keyword">var</span> d=[];e.requestAnimationFrame=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;setTimeout(e,<span class="number">1e3</span>/<span class="number">60</span>)&#125;&#125;(),n()&#125;(<span class="built_in">window</span>,<span class="built_in">document</span>);</span><br></pre></td></tr></table></figure><ol start="2"><li>在<code>\themes\*\layout\_layout.swig</code>文件末尾添加：</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 页面点击小红心 --&gt;</span><br><span class="line">&lt;script type=<span class="string">"text/javascript"</span> src=<span class="string">"/js/src/click.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p><a name="pw3VR"></a></p><h2 id="13-主页文章添加边框阴影效果"><a href="#13-主页文章添加边框阴影效果" class="headerlink" title="13.主页文章添加边框阴影效果"></a><a href="https://selfishluck.top/2018/12/21/Hexo%E4%B8%BB%E9%A2%98%E7%9A%84%E4%B8%80%E4%BA%9B%E9%85%8D%E7%BD%AE/#13-%E4%B8%BB%E9%A1%B5%E6%96%87%E7%AB%A0%E6%B7%BB%E5%8A%A0%E8%BE%B9%E6%A1%86%E9%98%B4%E5%BD%B1%E6%95%88%E6%9E%9C" target="_blank" rel="noopener"></a>13.主页文章添加边框阴影效果</h2><p>打开 <code>themes/*/source/css/_custom/custom.styl</code> ,向里面加代码:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 主页文章添加阴影效果</span><br><span class="line"><span class="selector-class">.post</span> &#123;</span><br><span class="line">   <span class="attribute">margin-top</span>: <span class="number">0px</span>;</span><br><span class="line">   <span class="attribute">margin-bottom</span>: <span class="number">60px</span>;</span><br><span class="line">   <span class="attribute">padding</span>: <span class="number">25px</span>;</span><br><span class="line">   <span class="attribute">-webkit-box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgba</span>(202, 203, 203, .5);</span><br><span class="line">   <span class="attribute">-moz-box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgba</span>(202, 203, 204, .5);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a name="XAJAU"></a></p><h2 id="14-显示当前浏览进度"><a href="#14-显示当前浏览进度" class="headerlink" title="14.显示当前浏览进度"></a>14.显示当前浏览进度</h2><p>修改<code>themes/*/_config.yml</code>，把 <code>false</code> 改为 <code>true</code>：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Back to top in sidebar</span></span><br><span class="line"><span class="attr">b2t:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Scroll percent label in b2t button</span></span><br><span class="line"><span class="attr">scrollpercent:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><a name="FOJtq"></a></p><h2 id="15-博客文章置顶"><a href="#15-博客文章置顶" class="headerlink" title="15.博客文章置顶"></a>15.博客文章置顶</h2><p>安装插件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ npm uninstall hexo-generator-index --save</span><br><span class="line">$ npm install hexo-generator-index-pin-top --save</span><br></pre></td></tr></table></figure><p>然后在需要置顶的文章的Front-matter中加上top即可：top值越大表示优先级越高</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 2018</span><br><span class="line">date: 2018-10-25 16:10:03</span><br><span class="line">top: 10</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p>设置置顶标志<br>打开：/themes/*/layout/_macro/post.swig插入以下代码即可：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if post.top %&#125;</span><br><span class="line">  <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-thumb-tack"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">000000</span>&gt;</span>置顶<span class="tag">&lt;/<span class="name">font</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-divider"</span>&gt;</span> <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><p><a name="fA5pE"></a></p><h2 id="16-生成博文插入图片"><a href="#16-生成博文插入图片" class="headerlink" title="16.生成博文插入图片"></a><a href="https://selfishluck.top/2018/12/21/Hexo%E4%B8%BB%E9%A2%98%E7%9A%84%E4%B8%80%E4%BA%9B%E9%85%8D%E7%BD%AE/#16-%E7%94%9F%E6%88%90%E5%8D%9A%E6%96%87%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87" target="_blank" rel="noopener"></a>16.生成博文插入图片</h2><p>参考：<a href="https://blog.csdn.net/sugar_rainbow/article/details/57415705" target="_blank" rel="noopener">Nuub</a><br>用Typora编写Markdown的可以修改成这样就直接复制图片过去了<br><br><a name="EPAgT"></a></p><h2 id="17-取消文章目录自动编号"><a href="#17-取消文章目录自动编号" class="headerlink" title="17.取消文章目录自动编号"></a><a href="https://selfishluck.top/2018/12/21/Hexo%E4%B8%BB%E9%A2%98%E7%9A%84%E4%B8%80%E4%BA%9B%E9%85%8D%E7%BD%AE/#17-%E5%8F%96%E6%B6%88%E6%96%87%E7%AB%A0%E7%9B%AE%E5%BD%95%E8%87%AA%E5%8A%A8%E7%BC%96%E5%8F%B7" target="_blank" rel="noopener"></a>17.取消文章目录自动编号</h2><p>修改主题配置文件那里的<code>number</code>为<code>false</code><br><br><a name="Z7tHG"></a></p><h2 id="18-修改文章底部标签的图标"><a href="#18-修改文章底部标签的图标" class="headerlink" title="18.修改文章底部标签的图标"></a><a href="https://selfishluck.top/2018/12/21/Hexo%E4%B8%BB%E9%A2%98%E7%9A%84%E4%B8%80%E4%BA%9B%E9%85%8D%E7%BD%AE/#18-%E4%BF%AE%E6%94%B9%E6%96%87%E7%AB%A0%E5%BA%95%E9%83%A8%E6%A0%87%E7%AD%BE%E7%9A%84%E5%9B%BE%E6%A0%87" target="_blank" rel="noopener"></a>18.修改文章底部标签的图标</h2><p>修改主题模板<code>/themes/next/layout/_macro/post.swig</code>，搜索 <code>rel=&quot;tag&quot;&gt;#</code>，将 # 换成<code>&lt;i class=&quot;fa fa-tag&quot;&gt;&lt;/i&gt;</code><br><a name="JMf2X"></a></p><h2 id="19-静态资源压缩"><a href="#19-静态资源压缩" class="headerlink" title="19.静态资源压缩"></a><a href="https://selfishluck.top/2018/12/21/Hexo%E4%B8%BB%E9%A2%98%E7%9A%84%E4%B8%80%E4%BA%9B%E9%85%8D%E7%BD%AE/#19-%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E5%8E%8B%E7%BC%A9" target="_blank" rel="noopener"></a>19.静态资源压缩</h2><p>在站点目录下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ npm install gulp -g</span><br><span class="line">npm install gulp</span><br></pre></td></tr></table></figure><p>安装gulp插件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm install gulp-minify-css --save</span><br><span class="line">npm install gulp-uglify --save</span><br><span class="line">npm install gulp-htmlmin --save</span><br><span class="line">npm install gulp-htmlclean --save</span><br><span class="line">npm install gulp-imagemin --save</span><br></pre></td></tr></table></figure><p>在 <code>Hexo</code> 站点下新建 <code>gulpfile.js</code>文件，文件内容如下：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>);</span><br><span class="line"><span class="keyword">var</span> minifycss = <span class="built_in">require</span>(<span class="string">'gulp-minify-css'</span>);</span><br><span class="line"><span class="keyword">var</span> uglify = <span class="built_in">require</span>(<span class="string">'gulp-uglify'</span>);</span><br><span class="line"><span class="keyword">var</span> htmlmin = <span class="built_in">require</span>(<span class="string">'gulp-htmlmin'</span>);</span><br><span class="line"><span class="keyword">var</span> htmlclean = <span class="built_in">require</span>(<span class="string">'gulp-htmlclean'</span>);</span><br><span class="line"><span class="keyword">var</span> imagemin = <span class="built_in">require</span>(<span class="string">'gulp-imagemin'</span>);</span><br><span class="line"><span class="comment">// 压缩css文件</span></span><br><span class="line">gulp.task(<span class="string">'minify-css'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> gulp.src(<span class="string">'./public/**/*.css'</span>)</span><br><span class="line">  .pipe(minifycss())</span><br><span class="line">  .pipe(gulp.dest(<span class="string">'./public'</span>));</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 压缩html文件</span></span><br><span class="line">gulp.task(<span class="string">'minify-html'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> gulp.src(<span class="string">'./public/**/*.html'</span>)</span><br><span class="line">  .pipe(htmlclean())</span><br><span class="line">  .pipe(htmlmin(&#123;</span><br><span class="line">    removeComments: <span class="literal">true</span>,</span><br><span class="line">    minifyJS: <span class="literal">true</span>,</span><br><span class="line">    minifyCSS: <span class="literal">true</span>,</span><br><span class="line">    minifyURLs: <span class="literal">true</span>,</span><br><span class="line">  &#125;))</span><br><span class="line">  .pipe(gulp.dest(<span class="string">'./public'</span>))</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 压缩js文件</span></span><br><span class="line">gulp.task(<span class="string">'minify-js'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src([<span class="string">'./public/**/.js'</span>,<span class="string">'!./public/js/**/*min.js'</span>])</span><br><span class="line">        .pipe(uglify())</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'./public'</span>));</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 压缩 public/demo 目录内图片</span></span><br><span class="line">gulp.task(<span class="string">'minify-images'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    gulp.src(<span class="string">'./public/demo/**/*.*'</span>)</span><br><span class="line">        .pipe(imagemin(&#123;</span><br><span class="line">           optimizationLevel: <span class="number">5</span>, <span class="comment">//类型：Number  默认：3  取值范围：0-7（优化等级）</span></span><br><span class="line">           progressive: <span class="literal">true</span>, <span class="comment">//类型：Boolean 默认：false 无损压缩jpg图片</span></span><br><span class="line">           interlaced: <span class="literal">false</span>, <span class="comment">//类型：Boolean 默认：false 隔行扫描gif进行渲染</span></span><br><span class="line">           multipass: <span class="literal">false</span>, <span class="comment">//类型：Boolean 默认：false 多次优化svg直到完全优化</span></span><br><span class="line">        &#125;))</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'./public/uploads'</span>));</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 默认任务</span></span><br><span class="line">gulp.task(<span class="string">'default'</span>, [</span><br><span class="line">  <span class="string">'minify-html'</span>,<span class="string">'minify-css'</span>,<span class="string">'minify-js'</span>,<span class="string">'minify-images'</span></span><br><span class="line">]);</span><br></pre></td></tr></table></figure><p>只需要每次在执行 <code>generate</code> 命令后执行 <code>gulp</code> 就可以实现对静态资源的压缩，压缩完成后执行 <code>deploy</code> 命令同步到服务器：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br><span class="line">gulp</span><br><span class="line">hexo d</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; gulp &amp;&amp; hexo d</span><br></pre></td></tr></table></figure><p><a name="akCd5"></a></p><h2 id="20-去掉图片边框"><a href="#20-去掉图片边框" class="headerlink" title="20.去掉图片边框"></a>20.去掉图片边框</h2><p>NexT主题默认会有图片边框，不太好看，我们可以把边框去掉。打开 <code>themes\Next\source\css\_custom\custom.styl</code>，添加如下CSS代码：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 去掉图片边框 */</span></span><br><span class="line"><span class="selector-class">.posts-expand</span> <span class="selector-class">.post-body</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">border</span>: none;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.post-gallery</span> <span class="selector-class">.post-gallery-img</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">3px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a name="fvBUV"></a></p><h2 id="21-添加-关于页面"><a href="#21-添加-关于页面" class="headerlink" title="21.添加 关于页面"></a>21.添加 关于页面</h2><p>hexo new page “about” 新建一个 关于我 页面。<br>主题的 _config.yml 文件中的 menu 中进行匹配</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line"><span class="attr">  home:</span> <span class="string">/</span>      <span class="string">//主页</span></span><br><span class="line"><span class="attr">  categories:</span> <span class="string">/categories</span> <span class="string">//分类</span></span><br><span class="line"><span class="attr">  archives:</span> <span class="string">/archives</span>   <span class="string">//归档</span></span><br><span class="line"><span class="attr">  tags:</span> <span class="string">/tags</span>   <span class="string">//标签</span></span><br><span class="line"><span class="attr">  about:</span> <span class="string">/about</span>   <span class="string">//关于</span>                  <span class="string">（添加此行即可）</span></span><br></pre></td></tr></table></figure><p>同理于标签页和分类页<br><a name="2KyMz"></a></p><h2 id="22-添加字数统计-阅读时长"><a href="#22-添加字数统计-阅读时长" class="headerlink" title="22.添加字数统计.阅读时长"></a><a href="https://selfishluck.top/2018/12/21/Hexo%E4%B8%BB%E9%A2%98%E7%9A%84%E4%B8%80%E4%BA%9B%E9%85%8D%E7%BD%AE/#22-%E6%B7%BB%E5%8A%A0%E5%AD%97%E6%95%B0%E7%BB%9F%E8%AE%A1-%E9%98%85%E8%AF%BB%E6%97%B6%E9%95%BF" target="_blank" rel="noopener"></a>22.添加字数统计.阅读时长</h2><p><a name="Dpig1"></a></p><h3 id="统计插件"><a href="#统计插件" class="headerlink" title="统计插件"></a><a href="https://selfishluck.top/2018/12/21/Hexo%E4%B8%BB%E9%A2%98%E7%9A%84%E4%B8%80%E4%BA%9B%E9%85%8D%E7%BD%AE/#%E7%BB%9F%E8%AE%A1%E6%8F%92%E4%BB%B6" target="_blank" rel="noopener"></a>统计插件</h3><p><a name="1uaPC"></a></p><h4 id="配置"><a href="#配置" class="headerlink" title="配置"></a><a href="https://selfishluck.top/2018/12/21/Hexo%E4%B8%BB%E9%A2%98%E7%9A%84%E4%B8%80%E4%BA%9B%E9%85%8D%E7%BD%AE/#%E9%85%8D%E7%BD%AE" target="_blank" rel="noopener"></a>配置</h4><p>NexT 主题默认已经集成了文章【字数统计】.【阅读时长】统计功能，如果我们需要使用，只需要在主题配置文件 <code>_config.yml</code> 中打开 <code>wordcount</code> 统计功能即可。如下所示：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Post wordcount display settings</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/willin/hexo-wordcount</span></span><br><span class="line"><span class="attr">post_wordcount:</span></span><br><span class="line"><span class="attr">  item_text:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  wordcount:</span> <span class="literal">true</span>         <span class="comment"># 单篇 字数统计</span></span><br><span class="line"><span class="attr">  min2read:</span> <span class="literal">true</span>          <span class="comment"># 单篇 阅读时长</span></span><br><span class="line"><span class="attr">  totalcount:</span> <span class="literal">false</span>       <span class="comment"># 网站 字数统计</span></span><br><span class="line"><span class="attr">  separated_meta:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>修改完成主题配置文件后，启动服务预览：</p><blockquote><p>hexo server</p></blockquote><p>访问 <a href="https://link.jianshu.com/?t=http://localhost:4000/" target="_blank" rel="noopener">http://localhost:4000/</a> 链接，如果出现字数统计和阅读时长失效的情况，一般是因为没有安装 <code>hexo-wordcount</code> 插件，查看 Hexo 插件：</p><blockquote><p>hexo –debug</p></blockquote><p><a name="mxFvn"></a></p><h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a><a href="https://selfishluck.top/2018/12/21/Hexo%E4%B8%BB%E9%A2%98%E7%9A%84%E4%B8%80%E4%BA%9B%E9%85%8D%E7%BD%AE/#%E5%AE%89%E8%A3%85" target="_blank" rel="noopener"></a>安装</h4><p>如果没有安装 <code>hexo-wordcount</code>插件，先安装该插件：</p><blockquote><p>npm i –save hexo-wordcount</p></blockquote><p><strong><em>Node 版本 7.6.0 之前,请安装 2.x 版本 (Node.js v7.6.0 and previous) ，安装命令如下：</em></strong></p><blockquote><p>npm install hexo-wordcount@2 –save</p></blockquote><p>安装完成后，重新执行启动服务预览就可以了。<br><a name="wQnut"></a></p><h4 id="显示文字"><a href="#显示文字" class="headerlink" title="显示文字"></a><a href="https://selfishluck.top/2018/12/21/Hexo%E4%B8%BB%E9%A2%98%E7%9A%84%E4%B8%80%E4%BA%9B%E9%85%8D%E7%BD%AE/#%E6%98%BE%E7%A4%BA%E6%96%87%E5%AD%97" target="_blank" rel="noopener"></a>显示文字</h4><p>打开<code>post.swig</code>文件，路径如下：<code>/themes/next/layout/_macro/post.swig</code><br>修改【字数统计】，找到如下代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">title</span>=<span class="string">"&#123;&#123; __('post.wordcount') &#125;&#125;"</span>&gt;</span></span><br><span class="line">    &#123;&#123; wordcount(post.content) &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">添加 “字” 到 &#123;&#123; wordcount(post.content) &#125;&#125; 后面，修改后为：</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">title</span>=<span class="string">"&#123;&#123; __('post.wordcount') &#125;&#125;"</span>&gt;</span></span><br><span class="line">    &#123;&#123; wordcount(post.content) &#125;&#125; 字</span><br><span class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">同理，我们修改【阅读时长】，修改后如下：</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">title</span>=<span class="string">"&#123;&#123; __('post.min2read') &#125;&#125;"</span>&gt;</span></span><br><span class="line">    &#123;&#123; min2read(post.content) &#125;&#125; 分钟</span><br><span class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure><p>效果预览图：</p><p><a name="00prm"></a></p><h2 id="23-添加社交"><a href="#23-添加社交" class="headerlink" title="23.添加社交"></a><a href="https://selfishluck.top/2018/12/21/Hexo%E4%B8%BB%E9%A2%98%E7%9A%84%E4%B8%80%E4%BA%9B%E9%85%8D%E7%BD%AE/#23-%E6%B7%BB%E5%8A%A0%E7%A4%BE%E4%BA%A4" target="_blank" rel="noopener"></a>23.添加社交</h2><p>在主题配置文件找到<strong>social</strong>，添加需要的就可以，具体如下图<br>可以自定义图标，默认的图标都是从<a href="https://fontawesome.com/icons?d=gallery" target="_blank" rel="noopener">图标库</a>自动匹配的，||后面的就是在图标库的图标名<br><a href="https://i.loli.net/2018/12/31/5c2985637e570.png" target="_blank" rel="noopener"><img src="https://cdn.nlark.com/yuque/0/2019/png/263301/1561011982566-18a89b20-14d0-406e-bbb1-49ab0dfa5f86.png#align=left&display=inline&height=412&originHeight=412&originWidth=1438&size=0&status=done&width=1438" alt></a><br><a name="XHYwd"></a></p><h2 id="24-添加站内搜索"><a href="#24-添加站内搜索" class="headerlink" title="24.添加站内搜索"></a><a href="https://selfishluck.top/2018/12/21/Hexo%E4%B8%BB%E9%A2%98%E7%9A%84%E4%B8%80%E4%BA%9B%E9%85%8D%E7%BD%AE/#24-%E6%B7%BB%E5%8A%A0%E7%AB%99%E5%86%85%E6%90%9C%E7%B4%A2" target="_blank" rel="noopener"></a>24.添加站内搜索</h2><p>1、安装 <a href="https://github.com/flashlab/hexo-generator-search" target="_blank" rel="noopener">hexo-generator-searchdb</a> 插件</p><blockquote><p>npm install hexo-generator-searchdb –save</p></blockquote><p>2、打开 <strong>站点配置文件</strong> 找到<code>Extensions</code>在下面添加</p><blockquote><h1 id="搜索"><a href="#搜索" class="headerlink" title="搜索"></a>搜索</h1></blockquote><blockquote><p>search:</p></blockquote><blockquote><p> path: search.xml</p></blockquote><blockquote><p> field: post</p></blockquote><blockquote><p> format: html</p></blockquote><blockquote><p> limit: 10000</p></blockquote><p>3、打开 <strong>主题配置文件</strong> 找到<code>Local search</code>，将<code>enable</code>设置为<code>true</code><br><a name="e02Jy"></a></p><h2 id="25-设置文字居中"><a href="#25-设置文字居中" class="headerlink" title="25.设置文字居中"></a><a href="https://selfishluck.top/2018/12/21/Hexo%E4%B8%BB%E9%A2%98%E7%9A%84%E4%B8%80%E4%BA%9B%E9%85%8D%E7%BD%AE/#25-%E8%AE%BE%E7%BD%AE%E6%96%87%E5%AD%97%E5%B1%85%E4%B8%AD" target="_blank" rel="noopener"></a>25.设置文字居中</h2><p>这一行需要居中<br>设置方法：</p><blockquote><center>这一行需要居中</center></blockquote><blockquote><p>注意：简书中此方法无效</p></blockquote><p><a name="OPWd2"></a></p><h2 id="26-点击爆炸效果"><a href="#26-点击爆炸效果" class="headerlink" title="26.点击爆炸效果"></a><a href="https://selfishluck.top/2018/12/21/Hexo%E4%B8%BB%E9%A2%98%E7%9A%84%E4%B8%80%E4%BA%9B%E9%85%8D%E7%BD%AE/#26-%E7%82%B9%E5%87%BB%E7%88%86%E7%82%B8%E6%95%88%E6%9E%9C" target="_blank" rel="noopener"></a>26.点击爆炸效果</h2><p><strong>实现方法</strong><br>跟那个红心是差不多的，首先在<code>themes/next/source/js/src</code>里面建一个叫fireworks.js的文件，代码如下：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;<span class="function"><span class="keyword">function</span> <span class="title">updateCoords</span>(<span class="params">e</span>)</span>&#123;pointerX=(e.clientX||e.touches[<span class="number">0</span>].clientX)-canvasEl.getBoundingClientRect().left,pointerY=e.clientY||e.touches[<span class="number">0</span>].clientY-canvasEl.getBoundingClientRect().top&#125;<span class="function"><span class="keyword">function</span> <span class="title">setParticuleDirection</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">var</span> t=anime.random(<span class="number">0</span>,<span class="number">360</span>)*<span class="built_in">Math</span>.PI/<span class="number">180</span>,a=anime.random(<span class="number">50</span>,<span class="number">180</span>),n=[<span class="number">-1</span>,<span class="number">1</span>][anime.random(<span class="number">0</span>,<span class="number">1</span>)]*a;<span class="keyword">return</span>&#123;<span class="attr">x</span>:e.x+n*<span class="built_in">Math</span>.cos(t),<span class="attr">y</span>:e.y+n*<span class="built_in">Math</span>.sin(t)&#125;&#125;<span class="function"><span class="keyword">function</span> <span class="title">createParticule</span>(<span class="params">e,t</span>)</span>&#123;<span class="keyword">var</span> a=&#123;&#125;;<span class="keyword">return</span> a.x=e,a.y=t,a.color=colors[anime.random(<span class="number">0</span>,colors.length<span class="number">-1</span>)],a.radius=anime.random(<span class="number">16</span>,<span class="number">32</span>),a.endPos=setParticuleDirection(a),a.draw=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">Math</span>.PI,!<span class="number">0</span>),ctx.fillStyle=a.color,ctx.fill()&#125;,a&#125;<span class="function"><span class="keyword">function</span> <span class="title">createCircle</span>(<span class="params">e,t</span>)</span>&#123;<span class="keyword">var</span> a=&#123;&#125;;<span class="keyword">return</span> a.x=e,a.y=t,a.color=<span class="string">"#F00"</span>,a.radius=<span class="number">0.1</span>,a.alpha=<span class="number">0.5</span>,a.lineWidth=<span class="number">6</span>,a.draw=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;ctx.globalAlpha=a.alpha,ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">Math</span>.PI,!<span class="number">0</span>),ctx.lineWidth=a.lineWidth,ctx.strokeStyle=a.color,ctx.stroke(),ctx.globalAlpha=<span class="number">1</span>&#125;,a&#125;<span class="function"><span class="keyword">function</span> <span class="title">renderParticule</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">for</span>(<span class="keyword">var</span> t=<span class="number">0</span>;t&lt;e.animatables.length;t++)&#123;e.animatables[t].target.draw()&#125;&#125;<span class="function"><span class="keyword">function</span> <span class="title">animateParticules</span>(<span class="params">e,t</span>)</span>&#123;<span class="keyword">for</span>(<span class="keyword">var</span> a=createCircle(e,t),n=[],i=<span class="number">0</span>;i&lt;numberOfParticules;i++)&#123;n.push(createParticule(e,t))&#125;anime.timeline().add(&#123;<span class="attr">targets</span>:n,<span class="attr">x</span>:<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">return</span> e.endPos.x&#125;,<span class="attr">y</span>:<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">return</span> e.endPos.y&#125;,<span class="attr">radius</span>:<span class="number">0.1</span>,<span class="attr">duration</span>:anime.random(<span class="number">1200</span>,<span class="number">1800</span>),<span class="attr">easing</span>:<span class="string">"easeOutExpo"</span>,<span class="attr">update</span>:renderParticule&#125;).add(&#123;<span class="attr">targets</span>:a,<span class="attr">radius</span>:anime.random(<span class="number">80</span>,<span class="number">160</span>),<span class="attr">lineWidth</span>:<span class="number">0</span>,<span class="attr">alpha</span>:&#123;<span class="attr">value</span>:<span class="number">0</span>,<span class="attr">easing</span>:<span class="string">"linear"</span>,<span class="attr">duration</span>:anime.random(<span class="number">600</span>,<span class="number">800</span>)&#125;,<span class="attr">duration</span>:anime.random(<span class="number">1200</span>,<span class="number">1800</span>),<span class="attr">easing</span>:<span class="string">"easeOutExpo"</span>,<span class="attr">update</span>:renderParticule,<span class="attr">offset</span>:<span class="number">0</span>&#125;)&#125;<span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">e,t</span>)</span>&#123;<span class="keyword">var</span> a;<span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> n=<span class="keyword">this</span>,i=<span class="built_in">arguments</span>;clearTimeout(a),a=setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;e.apply(n,i)&#125;,t)&#125;&#125;<span class="keyword">var</span> canvasEl=<span class="built_in">document</span>.querySelector(<span class="string">".fireworks"</span>);<span class="keyword">if</span>(canvasEl)&#123;<span class="keyword">var</span> ctx=canvasEl.getContext(<span class="string">"2d"</span>),numberOfParticules=<span class="number">30</span>,pointerX=<span class="number">0</span>,pointerY=<span class="number">0</span>,tap=<span class="string">"mousedown"</span>,colors=[<span class="string">"#FF1461"</span>,<span class="string">"#18FF92"</span>,<span class="string">"#5A87FF"</span>,<span class="string">"#FBF38C"</span>],setCanvasSize=debounce(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;canvasEl.width=<span class="number">2</span>*<span class="built_in">window</span>.innerWidth,canvasEl.height=<span class="number">2</span>*<span class="built_in">window</span>.innerHeight,canvasEl.style.width=<span class="built_in">window</span>.innerWidth+<span class="string">"px"</span>,canvasEl.style.height=<span class="built_in">window</span>.innerHeight+<span class="string">"px"</span>,canvasEl.getContext(<span class="string">"2d"</span>).scale(<span class="number">2</span>,<span class="number">2</span>)&#125;,<span class="number">500</span>),render=anime(&#123;<span class="attr">duration</span>:<span class="number">1</span>/<span class="number">0</span>,<span class="attr">update</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;ctx.clearRect(<span class="number">0</span>,<span class="number">0</span>,canvasEl.width,canvasEl.height)&#125;&#125;);<span class="built_in">document</span>.addEventListener(tap,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;<span class="string">"sidebar"</span>!==e.target.id&amp;&amp;<span class="string">"toggle-sidebar"</span>!==e.target.id&amp;&amp;<span class="string">"A"</span>!==e.target.nodeName&amp;&amp;<span class="string">"IMG"</span>!==e.target.nodeName&amp;&amp;(render.play(),updateCoords(e),animateParticules(pointerX,pointerY))&#125;,!<span class="number">1</span>),setCanvasSize(),<span class="built_in">window</span>.addEventListener(<span class="string">"resize"</span>,setCanvasSize,!<span class="number">1</span>)&#125;<span class="string">"use strict"</span>;<span class="function"><span class="keyword">function</span> <span class="title">updateCoords</span>(<span class="params">e</span>)</span>&#123;pointerX=(e.clientX||e.touches[<span class="number">0</span>].clientX)-canvasEl.getBoundingClientRect().left,pointerY=e.clientY||e.touches[<span class="number">0</span>].clientY-canvasEl.getBoundingClientRect().top&#125;<span class="function"><span class="keyword">function</span> <span class="title">setParticuleDirection</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">var</span> t=anime.random(<span class="number">0</span>,<span class="number">360</span>)*<span class="built_in">Math</span>.PI/<span class="number">180</span>,a=anime.random(<span class="number">50</span>,<span class="number">180</span>),n=[<span class="number">-1</span>,<span class="number">1</span>][anime.random(<span class="number">0</span>,<span class="number">1</span>)]*a;<span class="keyword">return</span>&#123;<span class="attr">x</span>:e.x+n*<span class="built_in">Math</span>.cos(t),<span class="attr">y</span>:e.y+n*<span class="built_in">Math</span>.sin(t)&#125;&#125;<span class="function"><span class="keyword">function</span> <span class="title">createParticule</span>(<span class="params">e,t</span>)</span>&#123;<span class="keyword">var</span> a=&#123;&#125;;<span class="keyword">return</span> a.x=e,a.y=t,a.color=colors[anime.random(<span class="number">0</span>,colors.length<span class="number">-1</span>)],a.radius=anime.random(<span class="number">16</span>,<span class="number">32</span>),a.endPos=setParticuleDirection(a),a.draw=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">Math</span>.PI,!<span class="number">0</span>),ctx.fillStyle=a.color,ctx.fill()&#125;,a&#125;<span class="function"><span class="keyword">function</span> <span class="title">createCircle</span>(<span class="params">e,t</span>)</span>&#123;<span class="keyword">var</span> a=&#123;&#125;;<span class="keyword">return</span> a.x=e,a.y=t,a.color=<span class="string">"#F00"</span>,a.radius=<span class="number">0.1</span>,a.alpha=<span class="number">0.5</span>,a.lineWidth=<span class="number">6</span>,a.draw=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;ctx.globalAlpha=a.alpha,ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">Math</span>.PI,!<span class="number">0</span>),ctx.lineWidth=a.lineWidth,ctx.strokeStyle=a.color,ctx.stroke(),ctx.globalAlpha=<span class="number">1</span>&#125;,a&#125;<span class="function"><span class="keyword">function</span> <span class="title">renderParticule</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">for</span>(<span class="keyword">var</span> t=<span class="number">0</span>;t&lt;e.animatables.length;t++)&#123;e.animatables[t].target.draw()&#125;&#125;<span class="function"><span class="keyword">function</span> <span class="title">animateParticules</span>(<span class="params">e,t</span>)</span>&#123;<span class="keyword">for</span>(<span class="keyword">var</span> a=createCircle(e,t),n=[],i=<span class="number">0</span>;i&lt;numberOfParticules;i++)&#123;n.push(createParticule(e,t))&#125;anime.timeline().add(&#123;<span class="attr">targets</span>:n,<span class="attr">x</span>:<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">return</span> e.endPos.x&#125;,<span class="attr">y</span>:<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">return</span> e.endPos.y&#125;,<span class="attr">radius</span>:<span class="number">0.1</span>,<span class="attr">duration</span>:anime.random(<span class="number">1200</span>,<span class="number">1800</span>),<span class="attr">easing</span>:<span class="string">"easeOutExpo"</span>,<span class="attr">update</span>:renderParticule&#125;).add(&#123;<span class="attr">targets</span>:a,<span class="attr">radius</span>:anime.random(<span class="number">80</span>,<span class="number">160</span>),<span class="attr">lineWidth</span>:<span class="number">0</span>,<span class="attr">alpha</span>:&#123;<span class="attr">value</span>:<span class="number">0</span>,<span class="attr">easing</span>:<span class="string">"linear"</span>,<span class="attr">duration</span>:anime.random(<span class="number">600</span>,<span class="number">800</span>)&#125;,<span class="attr">duration</span>:anime.random(<span class="number">1200</span>,<span class="number">1800</span>),<span class="attr">easing</span>:<span class="string">"easeOutExpo"</span>,<span class="attr">update</span>:renderParticule,<span class="attr">offset</span>:<span class="number">0</span>&#125;)&#125;<span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">e,t</span>)</span>&#123;<span class="keyword">var</span> a;<span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> n=<span class="keyword">this</span>,i=<span class="built_in">arguments</span>;clearTimeout(a),a=setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;e.apply(n,i)&#125;,t)&#125;&#125;<span class="keyword">var</span> canvasEl=<span class="built_in">document</span>.querySelector(<span class="string">".fireworks"</span>);<span class="keyword">if</span>(canvasEl)&#123;<span class="keyword">var</span> ctx=canvasEl.getContext(<span class="string">"2d"</span>),numberOfParticules=<span class="number">30</span>,pointerX=<span class="number">0</span>,pointerY=<span class="number">0</span>,tap=<span class="string">"mousedown"</span>,colors=[<span class="string">"#FF1461"</span>,<span class="string">"#18FF92"</span>,<span class="string">"#5A87FF"</span>,<span class="string">"#FBF38C"</span>],setCanvasSize=debounce(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;canvasEl.width=<span class="number">2</span>*<span class="built_in">window</span>.innerWidth,canvasEl.height=<span class="number">2</span>*<span class="built_in">window</span>.innerHeight,canvasEl.style.width=<span class="built_in">window</span>.innerWidth+<span class="string">"px"</span>,canvasEl.style.height=<span class="built_in">window</span>.innerHeight+<span class="string">"px"</span>,canvasEl.getContext(<span class="string">"2d"</span>).scale(<span class="number">2</span>,<span class="number">2</span>)&#125;,<span class="number">500</span>),render=anime(&#123;<span class="attr">duration</span>:<span class="number">1</span>/<span class="number">0</span>,<span class="attr">update</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;ctx.clearRect(<span class="number">0</span>,<span class="number">0</span>,canvasEl.width,canvasEl.height)&#125;&#125;);<span class="built_in">document</span>.addEventListener(tap,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;<span class="string">"sidebar"</span>!==e.target.id&amp;&amp;<span class="string">"toggle-sidebar"</span>!==e.target.id&amp;&amp;<span class="string">"A"</span>!==e.target.nodeName&amp;&amp;<span class="string">"IMG"</span>!==e.target.nodeName&amp;&amp;(render.play(),updateCoords(e),animateParticules(pointerX,pointerY))&#125;,!<span class="number">1</span>),setCanvasSize(),<span class="built_in">window</span>.addEventListener(<span class="string">"resize"</span>,setCanvasSize,!<span class="number">1</span>)&#125;;</span><br></pre></td></tr></table></figure><p>打开<code>themes/next/layout/_layout.swig</code>,在<code>&lt;/body&gt;</code>上面写下如下代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if theme.fireworks %&#125;</span><br><span class="line">   <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">class</span>=<span class="string">"fireworks"</span> <span class="attr">style</span>=<span class="string">"position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;"</span> &gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span> </span><br><span class="line">   <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"//cdn.bootcss.com/animejs/2.2.0/anime.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> </span><br><span class="line">   <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/src/fireworks.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><p>打开主题配置文件，在里面最后写下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Fireworks</span></span><br><span class="line"><span class="attr">fireworks:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>完😀<br><a href="https://i.loli.net/2018/12/31/5c298dab7dfd7.png" target="_blank" rel="noopener"><img src="https://cdn.nlark.com/yuque/0/2019/png/263301/1561011982572-4fb8d3e3-e3ec-4d0a-9edd-699bcd982b82.png#align=left&display=inline&height=930&originHeight=930&originWidth=990&size=0&status=done&width=990" alt></a><br><a name="ZoHVv"></a></p><h2 id="27-设置文章加密访问"><a href="#27-设置文章加密访问" class="headerlink" title="27.设置文章加密访问"></a><a href="https://selfishluck.top/2018/12/21/Hexo%E4%B8%BB%E9%A2%98%E7%9A%84%E4%B8%80%E4%BA%9B%E9%85%8D%E7%BD%AE/#27-%E8%AE%BE%E7%BD%AE%E6%96%87%E7%AB%A0%E5%8A%A0%E5%AF%86%E8%AE%BF%E9%97%AE" target="_blank" rel="noopener"></a>27.设置文章加密访问</h2><p>这里使用第三方插件<a href="https://github.com/MikeCoder/hexo-blog-encrypt/blob/master/ReadMe.zh.md" target="_blank" rel="noopener">Hexo-Blog-Encrypt</a><br><a name="0VXNs"></a></p><h4 id="1-首先，你需要在站点-config-yml-中启用该插件"><a href="#1-首先，你需要在站点-config-yml-中启用该插件" class="headerlink" title="1)首先，你需要在站点 _config.yml 中启用该插件"></a><a href="https://selfishluck.top/2018/12/21/Hexo%E4%B8%BB%E9%A2%98%E7%9A%84%E4%B8%80%E4%BA%9B%E9%85%8D%E7%BD%AE/#1-%E9%A6%96%E5%85%88%EF%BC%8C%E4%BD%A0%E9%9C%80%E8%A6%81%E5%9C%A8%E7%AB%99%E7%82%B9-config-yml-%E4%B8%AD%E5%90%AF%E7%94%A8%E8%AF%A5%E6%8F%92%E4%BB%B6" target="_blank" rel="noopener"></a>1)首先，你需要在站点 _config.yml 中启用该插件</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Security</span></span><br><span class="line"><span class="comment">##</span></span><br><span class="line"><span class="attr">encrypt:</span></span><br><span class="line"><span class="attr">    enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><a name="vTVDr"></a></p><h4 id="2-给文章添加密码："><a href="#2-给文章添加密码：" class="headerlink" title="2)给文章添加密码："></a>2)给文章添加密码：</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">hello</span> <span class="string">world</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2016</span><span class="bullet">-03</span><span class="bullet">-30</span> <span class="number">21</span><span class="string">:18:02</span></span><br><span class="line"><span class="attr">tags:</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">fdsfadsfa</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">fdsafsdaf</span></span><br><span class="line"><span class="attr">password:</span> <span class="string">Mike</span></span><br><span class="line"><span class="attr">abstract:</span> <span class="string">Welcome</span> <span class="string">to</span> <span class="string">my</span> <span class="string">blog,</span> <span class="string">enter</span> <span class="string">password</span> <span class="string">to</span> <span class="string">read.</span></span><br><span class="line"><span class="attr">message:</span> <span class="string">Welcome</span> <span class="string">to</span> <span class="string">my</span> <span class="string">blog,</span> <span class="string">enter</span> <span class="string">password</span> <span class="string">to</span> <span class="string">read.</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="string">Eg：</span></span><br><span class="line"><span class="attr">password:</span> </span><br><span class="line"><span class="attr">abstract:</span> <span class="string">此处遭到了封印</span></span><br><span class="line"><span class="attr">message:</span> <span class="string">请输入正确的密码</span></span><br></pre></td></tr></table></figure><ul><li><p>password: 是该博客加密使用的密码</p></li><li><p>abstract: 是该博客的摘要，会显示在博客的列表页</p></li><li><p>message: 这个是博客查看时，密码输入框上面的描述性文字<br><a name="3pANf"></a></p><h3 id="对-TOC-进行加密"><a href="#对-TOC-进行加密" class="headerlink" title="对 TOC 进行加密"></a><a href="https://selfishluck.top/2018/12/21/Hexo%E4%B8%BB%E9%A2%98%E7%9A%84%E4%B8%80%E4%BA%9B%E9%85%8D%E7%BD%AE/#%E5%AF%B9-TOC-%E8%BF%9B%E8%A1%8C%E5%8A%A0%E5%AF%86" target="_blank" rel="noopener"></a>对 TOC 进行加密</h3><p>如果你有一篇文章使用了 TOC，你需要修改模板的部分代码。这里用 landscape 作为例子：</p></li><li><p>你可以在 <em>hexo/themes/landscape/layout/_partial/article.ejs</em> 找到 article.ejs。</p></li><li><p>然后找到 &lt;% post.content %&gt; 这段代码，通常在30行左右。</p></li><li><p>使用如下的代码来替代它:</p></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span>(<span class="attr">post.toc</span> == <span class="string">true)&#123;</span> %&gt;</span></span><br><span class="line">    &lt;div id="toc-div" class="toc-article" &lt;% if (post.encrypt == true) &#123; %&gt;style="display:none" &lt;% &#125; %&gt;&gt;</span><br><span class="line">        <span class="tag">&lt;<span class="name">strong</span> <span class="attr">class</span>=<span class="string">"toc-title"</span>&gt;</span>Index<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">post.encrypt</span> == <span class="string">true)</span> &#123; %&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">%-</span> <span class="attr">toc</span>(<span class="attr">post.origin</span>, &#123;<span class="attr">list_number:</span> <span class="attr">true</span>&#125;) %&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">%</span> &#125; <span class="attr">else</span> &#123; %&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">%-</span> <span class="attr">toc</span>(<span class="attr">post.content</span>, &#123;<span class="attr">list_number:</span> <span class="attr">true</span>&#125;) %&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%-</span> <span class="attr">post.content</span> %&gt;</span></span><br></pre></td></tr></table></figure><p><a name="6V83I"></a></p><h2 id="28-设置首页缩略图"><a href="#28-设置首页缩略图" class="headerlink" title="28 设置首页缩略图"></a>28 设置首页缩略图</h2><p>有两种方法，自行选择。</p><ol><li>这个需要使用<code>&lt;!-- more --&gt;</code>进行截断，<code>&lt;!-- more --&gt;</code>上面的内容就是显示在主页的摘要，把图片放在<code>&lt;!-- more --&gt;</code>上面就可以了。如果是文字也会进行分割。</li><li>在编写md文章的时候在头部添加<code>photos:</code>，如下所示：</li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> </span><br><span class="line"><span class="attr">categories:</span> </span><br><span class="line"><span class="attr">tags:</span></span><br><span class="line"><span class="attr">copyright:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">comments:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">description:</span> </span><br><span class="line"><span class="attr">date:</span> <span class="number">2017</span><span class="bullet">-11</span><span class="bullet">-09</span> <span class="number">14</span><span class="string">:33:32</span></span><br><span class="line"><span class="attr">top:</span></span><br><span class="line"><span class="attr">photos:</span> </span><br><span class="line"><span class="bullet">-</span> <span class="string">"https://i.loli.net/2019/01/19/5c42f345b6b2f.jpg"</span></span><br></pre></td></tr></table></figure><p><strong>参考资料:</strong><br><a href="https://www.simon96.online/2018/10/12/hexo-tutorial/" target="_blank" rel="noopener">遇见西门</a><br><a href="https://blog.csdn.net/qq_33699981/article/details/72716951" target="_blank" rel="noopener">JuLi距离</a><br><a href="https://github.com/iissnan/hexo-theme-next/blob/master/README.cn.md" target="_blank" rel="noopener">Next官方文档</a><br><a href="https://www.baidu.com/s?ie=utf-8&f=3&rsv_bp=1&tn=baidu&wd=Hexo%E7%9E%8E%E6%8A%98%E8%85%BE%E7%B3%BB%E5%88%97" target="_blank" rel="noopener">Hexo瞎折腾系列</a><br><a href="https://www.jianshu.com/p/21c94eb7bcd1" target="_blank" rel="noopener">NIkkkki睡不醒</a><br><a href="https://huaji8.top/post/live2d-plugin-2.0/" target="_blank" rel="noopener">二次元模型</a><br><a href="https://l2dwidget.js.org/dev.html" target="_blank" rel="noopener">https://l2dwidget.js.org/dev.html</a><br><a href="hexo-helper-live2d">hexo-helper-live2d</a><br><a href="https://github.com/xiazeyu/live2d-widget.js" target="_blank" rel="noopener">live2d-widget.js</a><br></p><p><a name="RUitI"></a></p><h2 id="优秀的设计博客：https-clovertuan-github-io-resume"><a href="#优秀的设计博客：https-clovertuan-github-io-resume" class="headerlink" title="优秀的设计博客：https://clovertuan.github.io/resume/"></a>优秀的设计博客：<a href="https://clovertuan.github.io/resume/" target="_blank" rel="noopener">https://clovertuan.github.io/resume/</a></h2><p><a name="sFxvC"></a></p><h3 id="优秀的星球博客：https-tzvetkov75-github-io-demo-blog-public-2017-02-05-hello-world"><a href="#优秀的星球博客：https-tzvetkov75-github-io-demo-blog-public-2017-02-05-hello-world" class="headerlink" title="优秀的星球博客：https://tzvetkov75.github.io/demo_blog/public/2017/02/05/hello-world/"></a>优秀的星球博客：<a href="https://tzvetkov75.github.io/demo_blog/public/2017/02/05/hello-world/" target="_blank" rel="noopener">https://tzvetkov75.github.io/demo_blog/public/2017/02/05/hello-world/</a></h3><p><br>转自：<br><a href="https://selfishluck.top/2018/12/21/Hexo%E4%B8%BB%E9%A2%98%E7%9A%84%E4%B8%80%E4%BA%9B%E9%85%8D%E7%BD%AE/" target="_blank" rel="noopener">https://selfishluck.top/2018/12/21/Hexo%E4%B8%BB%E9%A2%98%E7%9A%84%E4%B8%80%E4%BA%9B%E9%85%8D%E7%BD%AE/</a></p></div><footer class="post-footer"><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/2019/06/20/hello-world/" rel="next" title="Hello World"><i class="fa fa-chevron-left"></i> Hello World</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"></div></div></footer></div></article><div class="post-spread"></div></div></div><div class="comments" id="comments"><div id="disqus_thread"><noscript> Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span><span class="sidebar-toggle-line sidebar-toggle-line-middle"></span><span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap"> 文章目录</li><li class="sidebar-nav-overview" data-target="site-overview-wrap"> 站点概览</li></ul><section class="site-overview-wrap sidebar-panel"><div class="site-overview"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" src="/uploads/1916867.png" alt="FangCao"><p class="site-author-name" itemprop="name">FangCao</p><p class="site-description motion-element" itemprop="description">天空不留下鸟的痕迹，但我已飞过；流星是美丽的不为永恒，只为瞬间</p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">67</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/index.html"><span class="site-state-item-count">1</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/index.html"><span class="site-state-item-count">2</span> <span class="site-state-item-name">标签</span></a></div></nav><div class="links-of-blogroll motion-element links-of-blogroll-inline"><div class="links-of-blogroll-title"><i class="fa fa-fw fa-link"></i> Links</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"> <a href="http://macshuo.com/" title="MacTalk" target="_blank">MacTalk</a></li><li class="links-of-blogroll-item"> <a href="http://example.com/" title="Title" target="_blank">Title</a></li></ul></div></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-基本信息配置"><span class="nav-number">1.</span> <span class="nav-text">1.基本信息配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-菜单设置"><span class="nav-number">2.</span> <span class="nav-text">2.菜单设置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-Next主题样式设置"><span class="nav-number">3.</span> <span class="nav-text">3.Next主题样式设置</span></a></li></ol><li class="nav-item nav-level-1"><a class="nav-link" href="#Schemes"><span class="nav-number"></span> <span class="nav-text">Schemes</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#scheme-Muse"><span class="nav-number"></span> <span class="nav-text">scheme: Muse</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#scheme-Mist"><span class="nav-number"></span> <span class="nav-text">scheme: Mist</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#scheme-Pisces"><span class="nav-number"></span> <span class="nav-text">scheme: Pisces</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#4-侧栏设置"><span class="nav-number">1.</span> <span class="nav-text">4.侧栏设置</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Sidebar-Position-侧栏位置（只对Pisces-Gemini两种风格有效）"><span class="nav-number"></span> <span class="nav-text">Sidebar Position - 侧栏位置（只对Pisces | Gemini两种风格有效）</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Sidebar-Display-侧栏显示时机（只对Muse-Mist两种风格有效）"><span class="nav-number"></span> <span class="nav-text">Sidebar Display - 侧栏显示时机（只对Muse | Mist两种风格有效）</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#5-头像设置"><span class="nav-number">1.</span> <span class="nav-text">5.头像设置</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Sidebar-Avatar"><span class="nav-number"></span> <span class="nav-text">Sidebar Avatar</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#6-评论系统"><span class="nav-number">1.</span> <span class="nav-text">6.评论系统</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#来必力"><span class="nav-number">1.0.0.1.</span> <span class="nav-text">来必力</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-添加标签页"><span class="nav-number">2.</span> <span class="nav-text">7.添加标签页</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-添加分类页"><span class="nav-number">3.</span> <span class="nav-text">8.添加分类页</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-添加萌萌哒宠物"><span class="nav-number">4.</span> <span class="nav-text">9.添加萌萌哒宠物</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-安装模块"><span class="nav-number">4.0.1.</span> <span class="nav-text">1.安装模块:</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-配置"><span class="nav-number">4.0.2.</span> <span class="nav-text">2.配置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-模型"><span class="nav-number">4.0.3.</span> <span class="nav-text">3.模型</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#a-live2d-models子目录名称"><span class="nav-number">4.0.3.1.</span> <span class="nav-text">a. live2d_models子目录名称</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#b-相对于博客根目录的自定义路径"><span class="nav-number">4.0.3.2.</span> <span class="nav-text">b. 相对于博客根目录的自定义路径</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#c-npm-模块名（走这步就可以了）"><span class="nav-number">4.0.3.3.</span> <span class="nav-text">c. npm 模块名（走这步就可以了）</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10-首页阅读全文"><span class="nav-number">5.</span> <span class="nav-text">10.首页阅读全文</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11-修改背景图片"><span class="nav-number">6.</span> <span class="nav-text">11.修改背景图片</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12-实现点击出现桃心效果"><span class="nav-number">7.</span> <span class="nav-text">12.实现点击出现桃心效果</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-主页文章添加边框阴影效果"><span class="nav-number">8.</span> <span class="nav-text">13.主页文章添加边框阴影效果</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#14-显示当前浏览进度"><span class="nav-number">9.</span> <span class="nav-text">14.显示当前浏览进度</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#15-博客文章置顶"><span class="nav-number">10.</span> <span class="nav-text">15.博客文章置顶</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#16-生成博文插入图片"><span class="nav-number">11.</span> <span class="nav-text">16.生成博文插入图片</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#17-取消文章目录自动编号"><span class="nav-number">12.</span> <span class="nav-text">17.取消文章目录自动编号</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#18-修改文章底部标签的图标"><span class="nav-number">13.</span> <span class="nav-text">18.修改文章底部标签的图标</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#19-静态资源压缩"><span class="nav-number">14.</span> <span class="nav-text">19.静态资源压缩</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#20-去掉图片边框"><span class="nav-number">15.</span> <span class="nav-text">20.去掉图片边框</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#21-添加-关于页面"><span class="nav-number">16.</span> <span class="nav-text">21.添加 关于页面</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#22-添加字数统计-阅读时长"><span class="nav-number">17.</span> <span class="nav-text">22.添加字数统计.阅读时长</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#统计插件"><span class="nav-number">17.1.</span> <span class="nav-text">统计插件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#配置"><span class="nav-number">17.1.1.</span> <span class="nav-text">配置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#安装"><span class="nav-number">17.1.2.</span> <span class="nav-text">安装</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#显示文字"><span class="nav-number">17.1.3.</span> <span class="nav-text">显示文字</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#23-添加社交"><span class="nav-number">18.</span> <span class="nav-text">23.添加社交</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#24-添加站内搜索"><span class="nav-number">19.</span> <span class="nav-text">24.添加站内搜索</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#搜索"><span class="nav-number"></span> <span class="nav-text">搜索</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#25-设置文字居中"><span class="nav-number">1.</span> <span class="nav-text">25.设置文字居中</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#26-点击爆炸效果"><span class="nav-number">2.</span> <span class="nav-text">26.点击爆炸效果</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#27-设置文章加密访问"><span class="nav-number">3.</span> <span class="nav-text">27.设置文章加密访问</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-首先，你需要在站点-config-yml-中启用该插件"><span class="nav-number">3.0.1.</span> <span class="nav-text">1)首先，你需要在站点 _config.yml 中启用该插件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-给文章添加密码："><span class="nav-number">3.0.2.</span> <span class="nav-text">2)给文章添加密码：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#对-TOC-进行加密"><span class="nav-number">3.1.</span> <span class="nav-text">对 TOC 进行加密</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#28-设置首页缩略图"><span class="nav-number">4.</span> <span class="nav-text">28 设置首页缩略图</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#优秀的设计博客：https-clovertuan-github-io-resume"><span class="nav-number">5.</span> <span class="nav-text">优秀的设计博客：https://clovertuan.github.io/resume/</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#优秀的星球博客：https-tzvetkov75-github-io-demo-blog-public-2017-02-05-hello-world"><span class="nav-number">5.1.</span> <span class="nav-text">优秀的星球博客：https://tzvetkov75.github.io/demo_blog/public/2017/02/05/hello-world/</span></a></li></ol></li></div></div></section><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span id="scrollpercent"><span>0</span>%</span></div></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; 2012 &mdash; <span itemprop="copyrightYear">2019</span><span class="with-love"><i class="fa fa-user"></i></span> <span class="author" itemprop="copyrightHolder">FangCao</span> <span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-area-chart"></i></span> <span class="post-meta-item-text">Site words total count&#58;</span> <span title="Site words total count">80.3k</span></div><div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div> <span class="post-meta-divider">|</span><div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div></div></footer></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/lib/three/three.min.js"></script><script type="text/javascript" src="/lib/three/canvas_lines.min.js"></script><script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script><script id="dsq-count-scr" src="https://wangfangcao7618@gmail.com.disqus.com/count.js" async></script><script type="text/javascript">var disqus_config=function(){this.page.url="http://yoursite.com/2019/06/20/yuque/Hexo主题配置优化/",this.page.identifier="2019/06/20/yuque/Hexo主题配置优化/",this.page.title="Hexo主题配置优化"},d=document,s=d.createElement("script");s.src="https://wangfangcao7618@gmail.com.disqus.com/embed.js",s.setAttribute("data-timestamp",""+ +new Date),(d.head||d.body).appendChild(s)</script><script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,debug:!1,model:{jsonPath:"/live2dw/assets/tororo.model.json"},display:{position:"right",width:150,height:300},mobile:{show:!0,scale:.5},react:{opacityDefault:.7,opacityOnHover:.2},log:!1})</script></body></html>