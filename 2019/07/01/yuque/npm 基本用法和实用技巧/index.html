<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  
    
      
    

    
  

  

  
    
      
    

    
  

  
    
      
    

    
  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Lobster Two:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="åŸºæœ¬ç”¨æ³• å®‰è£…ä¸å‡çº§ å®‰è£… å‡çº§ å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„ npm   å¸¸ç”¨å‘½ä»¤ npm install npm uninstall npm update npm ls npm adduser npm init npm publish npm unpublish npm deprecate npm dist-tag npm view npm link npm conifg     å·¥ä½œåŸç† å®ç”¨æŠ€å·§ pa">
<meta property="og:type" content="article">
<meta property="og:title" content="npm åŸºæœ¬ç”¨æ³•å’Œå®ç”¨æŠ€å·§">
<meta property="og:url" content="http://yoursite.com/2019/07/01/yuque/npm åŸºæœ¬ç”¨æ³•å’Œå®ç”¨æŠ€å·§/index.html">
<meta property="og:site_name" content="FangCao">
<meta property="og:description" content="åŸºæœ¬ç”¨æ³• å®‰è£…ä¸å‡çº§ å®‰è£… å‡çº§ å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„ npm   å¸¸ç”¨å‘½ä»¤ npm install npm uninstall npm update npm ls npm adduser npm init npm publish npm unpublish npm deprecate npm dist-tag npm view npm link npm conifg     å·¥ä½œåŸç† å®ç”¨æŠ€å·§ pa">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2019-07-02T07:10:03.390Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="npm åŸºæœ¬ç”¨æ³•å’Œå®ç”¨æŠ€å·§">
<meta name="twitter:description" content="åŸºæœ¬ç”¨æ³• å®‰è£…ä¸å‡çº§ å®‰è£… å‡çº§ å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„ npm   å¸¸ç”¨å‘½ä»¤ npm install npm uninstall npm update npm ls npm adduser npm init npm publish npm unpublish npm deprecate npm dist-tag npm view npm link npm conifg     å·¥ä½œåŸç† å®ç”¨æŠ€å·§ pa">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"always","offset":12,"b2t":true,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":true,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2019/07/01/yuque/npm åŸºæœ¬ç”¨æ³•å’Œå®ç”¨æŠ€å·§/">





  <title>npm åŸºæœ¬ç”¨æ³•å’Œå®ç”¨æŠ€å·§ | FangCao</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?f6bca865fcf2ff03fc0a96417de90b09";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




</head>
<!-- ç‚¹å‡»çˆ†ç‚¸æ•ˆæœ -->
  
   <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;"></canvas>
   <script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script>
   <script type="text/javascript" src="/js/src/fireworks.js"></script>
  
<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">FangCao</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            æ ‡ç­¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            å½’æ¡£
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            æœç´¢
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="æœç´¢..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <!-- echarts -->
    <script type="text/javascript" src="/js/src/echarts.common.min.js"></script>
    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/07/01/yuque/npm åŸºæœ¬ç”¨æ³•å’Œå®ç”¨æŠ€å·§/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="FangCao">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/1916867.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="FangCao">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">npm åŸºæœ¬ç”¨æ³•å’Œå®ç”¨æŠ€å·§</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-07-01T18:04:29+08:00">
                2019-07-01
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº&#58;</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2019-07-02T15:10:03+08:00">
                2019-07-02
              </time>
            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡&#58;</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  5.7k å­—
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  23 åˆ†é’Ÿ
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <ul>
<li><a href="https://github.com/theicebear/npm-basic-usage#%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95" target="_blank" rel="noopener">åŸºæœ¬ç”¨æ³•</a><ul>
<li><a href="https://github.com/theicebear/npm-basic-usage#%E5%AE%89%E8%A3%85%E4%B8%8E%E5%8D%87%E7%BA%A7" target="_blank" rel="noopener">å®‰è£…ä¸å‡çº§</a><ul>
<li><a href="https://github.com/theicebear/npm-basic-usage#%E5%AE%89%E8%A3%85" target="_blank" rel="noopener">å®‰è£…</a></li>
<li><a href="https://github.com/theicebear/npm-basic-usage#%E5%8D%87%E7%BA%A7" target="_blank" rel="noopener">å‡çº§</a></li>
<li><a href="https://github.com/theicebear/npm-basic-usage#%E5%AE%89%E8%A3%85%E6%8C%87%E5%AE%9A%E7%89%88%E6%9C%AC%E7%9A%84-npm" target="_blank" rel="noopener">å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„ npm</a></li>
</ul>
</li>
<li><a href="https://github.com/theicebear/npm-basic-usage#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4" target="_blank" rel="noopener">å¸¸ç”¨å‘½ä»¤</a><ul>
<li><a href="https://github.com/theicebear/npm-basic-usage#npm-install" target="_blank" rel="noopener">npm install</a></li>
<li><a href="https://github.com/theicebear/npm-basic-usage#npm-uninstall" target="_blank" rel="noopener">npm uninstall</a></li>
<li><a href="https://github.com/theicebear/npm-basic-usage#npm-update" target="_blank" rel="noopener">npm update</a></li>
<li><a href="https://github.com/theicebear/npm-basic-usage#npm-ls" target="_blank" rel="noopener">npm ls</a></li>
<li><a href="https://github.com/theicebear/npm-basic-usage#npm-adduser" target="_blank" rel="noopener">npm adduser</a></li>
<li><a href="https://github.com/theicebear/npm-basic-usage#npm-init" target="_blank" rel="noopener">npm init</a></li>
<li><a href="https://github.com/theicebear/npm-basic-usage#npm-publish" target="_blank" rel="noopener">npm publish</a></li>
<li><a href="https://github.com/theicebear/npm-basic-usage#npm-unpublish" target="_blank" rel="noopener">npm unpublish</a></li>
<li><a href="https://github.com/theicebear/npm-basic-usage#npm-deprecate" target="_blank" rel="noopener">npm deprecate</a></li>
<li><a href="https://github.com/theicebear/npm-basic-usage#npm-dist-tag" target="_blank" rel="noopener">npm dist-tag</a></li>
<li><a href="https://github.com/theicebear/npm-basic-usage#npm-view" target="_blank" rel="noopener">npm view</a></li>
<li><a href="https://github.com/theicebear/npm-basic-usage#npm-link" target="_blank" rel="noopener">npm link</a></li>
<li><a href="https://github.com/theicebear/npm-basic-usage#npm-conifg" target="_blank" rel="noopener">npm conifg</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="https://github.com/theicebear/npm-basic-usage#%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86" target="_blank" rel="noopener">å·¥ä½œåŸç†</a></li>
<li><a href="https://github.com/theicebear/npm-basic-usage#%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7" target="_blank" rel="noopener">å®ç”¨æŠ€å·§</a><ul>
<li><a href="https://github.com/theicebear/npm-basic-usage#pacakgejson" target="_blank" rel="noopener">pacakge.json</a><ul>
<li><a href="https://github.com/theicebear/npm-basic-usage#dependencies" target="_blank" rel="noopener">dependencies</a></li>
<li><a href="https://github.com/theicebear/npm-basic-usage#optionaldependencies" target="_blank" rel="noopener">optionalDependencies</a></li>
<li><a href="https://github.com/theicebear/npm-basic-usage#peerdependencies" target="_blank" rel="noopener">peerDependencies</a></li>
<li><a href="https://github.com/theicebear/npm-basic-usage#bundleddependencies" target="_blank" rel="noopener">bundledDependencies</a></li>
<li><a href="https://github.com/theicebear/npm-basic-usage#bin" target="_blank" rel="noopener">bin</a></li>
<li><a href="https://github.com/theicebear/npm-basic-usage#config" target="_blank" rel="noopener">config</a></li>
</ul>
</li>
<li><a href="https://github.com/theicebear/npm-basic-usage#npmrc" target="_blank" rel="noopener">.npmrc</a></li>
<li><a href="https://github.com/theicebear/npm-basic-usage#npmignore" target="_blank" rel="noopener">.npmignore</a></li>
<li><a href="https://github.com/theicebear/npm-basic-usage#scripts" target="_blank" rel="noopener">scripts</a></li>
<li><a href="https://github.com/theicebear/npm-basic-usage#shrinkwrap" target="_blank" rel="noopener">shrinkwrap</a></li>
<li><a href="https://github.com/theicebear/npm-basic-usage#cache" target="_blank" rel="noopener">cache</a><br><a name="OUQEc"></a><h2 id="åŸºæœ¬ç”¨æ³•"><a href="#åŸºæœ¬ç”¨æ³•" class="headerlink" title="åŸºæœ¬ç”¨æ³•"></a><a href="https://github.com/theicebear/npm-basic-usage#%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95" target="_blank" rel="noopener"></a>åŸºæœ¬ç”¨æ³•</h2><a name="VACUH"></a><h3 id="å®‰è£…ä¸å‡çº§"><a href="#å®‰è£…ä¸å‡çº§" class="headerlink" title="å®‰è£…ä¸å‡çº§"></a><a href="https://github.com/theicebear/npm-basic-usage#%E5%AE%89%E8%A3%85%E4%B8%8E%E5%8D%87%E7%BA%A7" target="_blank" rel="noopener"></a>å®‰è£…ä¸å‡çº§</h3><a name="nCnNQ"></a><h4 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a><a href="https://github.com/theicebear/npm-basic-usage#%E5%AE%89%E8%A3%85" target="_blank" rel="noopener"></a>å®‰è£…</h4>å®‰è£… Node.js æ—¶ä¼šè‡ªåŠ¨å®‰è£… npmã€‚<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm install 4</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<p><a name="h5MEU"></a></p>
<h4 id="å‡çº§"><a href="#å‡çº§" class="headerlink" title="å‡çº§"></a><a href="https://github.com/theicebear/npm-basic-usage#%E5%8D%87%E7%BA%A7" target="_blank" rel="noopener"></a>å‡çº§</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install npm -g</span><br></pre></td></tr></table></figure>

<p><a name="mETJn"></a></p>
<h4 id="å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„-npm"><a href="#å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„-npm" class="headerlink" title="å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„ npm"></a><a href="https://github.com/theicebear/npm-basic-usage#%E5%AE%89%E8%A3%85%E6%8C%87%E5%AE%9A%E7%89%88%E6%9C%AC%E7%9A%84-npm" target="_blank" rel="noopener"></a>å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„ npm</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install npm@2 -g</span><br></pre></td></tr></table></figure>

<p><a name="PCoEJ"></a></p>
<h3 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a><a href="https://github.com/theicebear/npm-basic-usage#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4" target="_blank" rel="noopener"></a>å¸¸ç”¨å‘½ä»¤</h3><p><a name="1ZOm6"></a></p>
<h4 id="npm-install"><a href="#npm-install" class="headerlink" title="npm install"></a><a href="https://github.com/theicebear/npm-basic-usage#npm-install" target="_blank" rel="noopener"></a>npm install</h4><ol>
<li><p>æ ¹æ® <code>package.json</code> æ–‡ä»¶å®‰è£…ä¾èµ–ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure>
</li>
<li><p>å®‰è£…æŒ‡å®šçš„ä¾èµ–åŒ…ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install [&lt;@scope&gt;/]&lt;pkg&gt;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<blockquote>
<p>å¦‚æœå½“å‰ç›®å½•ä¸­å­˜åœ¨ <code>package.json</code> æ–‡ä»¶ï¼Œåˆ™å®‰è£…æ»¡è¶³æ–‡ä»¶ä¸­ç‰ˆæœ¬è§„åˆ™çš„æœ€é«˜ç‰ˆæœ¬ï¼›å¦åˆ™å®‰è£…æœ€æ–°ç‰ˆæœ¬ä¾èµ–åŒ…ã€‚</p>
</blockquote>
<ol>
<li><p>å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„ä¾èµ–åŒ…ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install [&lt;@scope&gt;/]&lt;pkg&gt;@&lt;tag&gt;</span><br><span class="line">npm install [&lt;@scope&gt;/]&lt;pkg&gt;@&lt;version&gt;</span><br><span class="line">npm install [&lt;@scope&gt;/]&lt;pkg&gt;@&lt;version range&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä»æœ¬åœ°ä½ç½®å®‰è£…ä¾èµ–ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install &lt;folder&gt;</span><br><span class="line">npm install &lt;tarball file&gt;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<blockquote>
<p>å¯ä»¥ç”¨ <code>npm pack</code> ç”Ÿæˆ <code>&lt;tarball file&gt;</code></p>
</blockquote>
<ol>
<li><p>ä»ç½‘ç»œä½ç½®å®‰è£…ä¾èµ–ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install &lt;tarball url&gt;</span><br><span class="line">npm install &lt;git:// url&gt;</span><br><span class="line">npm install &lt;github username&gt;/&lt;github project&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¸¸ç”¨å‚æ•°ï¼š</p>
<ul>
<li><code>-g, --global</code>ï¼šå®‰è£…å…¨å±€ä¾èµ–ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šä¾èµ–åŒ…åï¼Œåˆ™å°†å½“å‰ç›®å½•ä¸­çš„åŒ…å®‰è£…è‡³å…¨å±€<br></li>
<li><code>-S, --save</code>ï¼šå®‰è£…ä¾èµ–çš„åŒæ—¶å°†è¯¥ä¾èµ–å†™å…¥ <code>dependencies</code><br></li>
<li><code>-D, --save-dev</code>ï¼šå®‰è£…ä¾èµ–çš„åŒæ—¶å°†è¯¥ä¾èµ–å†™å…¥ <code>devDependencies</code><br></li>
<li><code>-O, --save-optional</code>ï¼šå®‰è£…ä¾èµ–çš„åŒæ—¶å°†è¯¥ä¾èµ–å†™å…¥ <code>optionalDependencies</code><br></li>
<li><code>-E, --save-exact</code>ï¼šå†™å…¥ <code>package.json</code> æ—¶å¸¦æœ‰ç¡®åˆ‡ç‰ˆæœ¬å·<br></li>
<li><code>--no-optional</code>ï¼šä¸å®‰è£… optional dependenciesï¼Œå¯ç»§æ‰¿<br></li>
<li><code>--only={dev[elopment]|prod[uction]}</code>ï¼šæ— è§† <code>NODE_ENV</code>ï¼Œåªå®‰è£… <code>devDependencies</code> æˆ–ä»…å®‰è£…é™¤äº† <code>devDependencies</code> ä¹‹å¤–çš„ä¾èµ–é¡¹<br></li>
<li><code>--dry-run</code>ï¼šèµ°ä¸€éå®‰è£…çš„è¿‡ç¨‹å¹¶æŠ¥å‘Šç»“æœï¼Œä½†å®é™…ä¸Šæ²¡æœ‰å®‰è£…ä»»ä½•ä¾èµ–<br></li>
</ul>
</li>
<li><p>åˆ«åï¼š<code>i</code><br><br><a name="7R8Cr"></a></p>
<h4 id="npm-uninstall"><a href="#npm-uninstall" class="headerlink" title="npm uninstall"></a><a href="https://github.com/theicebear/npm-basic-usage#npm-uninstall" target="_blank" rel="noopener"></a>npm uninstall</h4></li>
<li><p>åˆ é™¤ä¸€ä¸ªæŒ‡å®šçš„ä¾èµ–åŒ…ï¼Œå¹¶ä¸”å®Œå…¨ç§»é™¤ä¸ºäº†è¯¥åŒ…è€Œå®‰è£…çš„ä»»ä½•æ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall [&lt;@scope&gt;/]&lt;pkg&gt;[@&lt;version&gt;]... [-S|--save|-D|--save-dev|-O|--save-optional]</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¸¸ç”¨å‚æ•°ï¼šä¸ <code>npm install</code> ç±»ä¼¼<br></p>
</li>
<li><p>åˆ«åï¼š<code>remove</code>ã€<code>rm</code>ã€<code>r</code>ã€<code>un</code>ã€<code>unlink</code><br><br><a name="tKZWE"></a></p>
<h4 id="npm-update"><a href="#npm-update" class="headerlink" title="npm update"></a><a href="https://github.com/theicebear/npm-basic-usage#npm-update" target="_blank" rel="noopener"></a>npm update</h4></li>
<li><p>å‡çº§æ‰€æœ‰ä¾èµ–åŒ…è‡³ç‰ˆæœ¬è§„åˆ™å…è®¸çš„æœ€æ–°ç‰ˆæœ¬ï¼Œå¹¶å®‰è£…ç¼ºå¤±çš„ä¾èµ–åŒ…</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm update [&lt;pkg&gt;...]</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¸¸ç”¨å‚æ•°ï¼š</p>
<ul>
<li><code>-g</code>ï¼šå‡çº§å…¨å±€ä¾èµ–åŒ…</li>
<li><code>--dev</code>ï¼šåŒæ—¶å‡çº§åœ¨ <code>devDependencies</code> ä¸­çš„ä¾èµ–åŒ…</li>
<li><code>--depth Infinity</code>ï¼šä» <code>npm@2.6.1</code> èµ· <code>npm update</code> é»˜è®¤ä»…å‡çº§é¡¶å±‚ä¾èµ–ï¼Œä½¿ç”¨è¯¥å‚æ•°å‡çº§æ‰€æœ‰ä¾èµ–åŒ…</li>
<li><code>--save</code>ï¼šå‡çº§ä¾èµ–åŒ…ï¼ŒåŒæ—¶è®°å½•å‡çº§åçš„ç‰ˆæœ¬</li>
</ul>
</li>
<li><p>åˆ«åï¼š<code>up</code>ã€<code>upgrade</code><br><br><a name="53moF"></a></p>
<h4 id="npm-ls"><a href="#npm-ls" class="headerlink" title="npm ls"></a><a href="https://github.com/theicebear/npm-basic-usage#npm-ls" target="_blank" rel="noopener"></a>npm ls</h4></li>
<li><p>ä»¥æ ‘å½¢ç»“æ„æ‰“å°ä¾èµ–åŒ…åŠå…¶ç‰ˆæœ¬</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm ls [[&lt;@scope&gt;/]&lt;pkg&gt; ...]</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¸¸ç”¨å‚æ•°ï¼š</p>
<ul>
<li><code>--json</code>ï¼šä»¥ JSON æ ¼å¼è¾“å‡º</li>
<li><code>--long</code>ï¼šè¾“å‡ºé¢å¤–ä¿¡æ¯</li>
<li><code>--global</code>ï¼šè¾“å‡ºå…¨å±€ä¾èµ–ä¿¡æ¯</li>
<li><code>--depth &lt;int&gt;</code>ï¼šè¾“å‡ºä¾èµ–æ ‘çš„æœ€å¤§æ·±åº¦</li>
<li><code>--prod[uction]</code>ï¼šä»…è¾“å‡º <code>dependencies</code> ä¸­çš„ä¾èµ–</li>
<li><code>--dev</code>ï¼šä»…è¾“å‡º <code>devDependencies</code> ä¸­çš„ä¾èµ–</li>
</ul>
</li>
<li><p>åˆ«åï¼š<code>list</code>ã€<code>la</code>ã€<code>ll</code><br><br><a name="6WLpO"></a></p>
<h4 id="npm-adduser"><a href="#npm-adduser" class="headerlink" title="npm adduser"></a><a href="https://github.com/theicebear/npm-basic-usage#npm-adduser" target="_blank" rel="noopener"></a>npm adduser</h4><p>ç™»å½• npm</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm adduser</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p><a name="0adne"></a></p>
<h4 id="npm-init"><a href="#npm-init" class="headerlink" title="npm init"></a><a href="https://github.com/theicebear/npm-basic-usage#npm-init" target="_blank" rel="noopener"></a>npm init</h4><ol>
<li><p>æé—®ï¼Œç„¶åäº§ç”Ÿä¸€ä¸ª <code>package.json</code> æ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init [-f|--force|-y|--yes]</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¸¸ç”¨å‚æ•°ï¼š</p>
<ul>
<li><code>-f, --force, -y, --yes</code>ï¼šä½¿ç”¨é»˜è®¤çš„ç­”æ¡ˆï¼Œä¸å†æé—®</li>
<li><code>--scope &lt;scope&gt;</code>ï¼šæŒ‡å®šæ–°æ¨¡å—çš„ scopeï¼Œä¾‹å¦‚ <code>mtfe</code><br><a name="bH3VH"></a><h4 id="npm-publish"><a href="#npm-publish" class="headerlink" title="npm publish"></a><a href="https://github.com/theicebear/npm-basic-usage#npm-publish" target="_blank" rel="noopener"></a>npm publish</h4></li>
</ul>
</li>
<li><p>å‘å¸ƒä¸€ä¸ªæ–°çš„åŒ…ï¼Œæˆ–ä¸€ä¸ªåŒ…çš„æ–°ç‰ˆæœ¬</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm publish [&lt;tarball&gt;|&lt;folder&gt;] [--tag &lt;tag&gt;] [--access &lt;public|restricted&gt;]</span><br></pre></td></tr></table></figure>

</li>
</ol>
<blockquote>
<p>å¦‚æœæ²¡æœ‰ tarball æˆ– folder è¢«æŒ‡å®šï¼Œåˆ™ä½¿ç”¨å½“å‰ç›®å½•</p>
</blockquote>
<ol>
<li>å¸¸ç”¨å‚æ•°ï¼š<ul>
<li><code>--tag &lt;tag&gt;</code>ï¼šç»™è¢«å‘å¸ƒçš„åŒ…æ³¨å†ŒæŒ‡å®šçš„ tagï¼Œå¦‚æœæ²¡æœ‰è¯¥å‚æ•°ï¼Œåˆ™é»˜è®¤ä½¿ç”¨ <code>latest</code><br><a name="VBJ8m"></a><h4 id="npm-unpublish"><a href="#npm-unpublish" class="headerlink" title="npm unpublish"></a><a href="https://github.com/theicebear/npm-basic-usage#npm-unpublish" target="_blank" rel="noopener"></a>npm unpublish</h4>å–æ¶ˆå‘å¸ƒä¸€ä¸ªåŒ…ï¼Œæˆ–ä¸€ä¸ªåŒ…çš„æŸäº›ç‰ˆæœ¬<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm unpublish [&lt;@scope&gt;/]&lt;pkg&gt;[@&lt;version&gt;]</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ol>
<p><a name="v5tIs"></a></p>
<h4 id="npm-deprecate"><a href="#npm-deprecate" class="headerlink" title="npm deprecate"></a><a href="https://github.com/theicebear/npm-basic-usage#npm-deprecate" target="_blank" rel="noopener"></a>npm deprecate</h4><p>å¼ƒç”¨ä¸€ä¸ªåŒ…ï¼Œæˆ–ä¸€ä¸ªåŒ…çš„æŸäº›ç‰ˆæœ¬ï¼Œå°è¯•å®‰è£…è¿™äº›å¼ƒç”¨åŒ…çš„ç”¨æˆ·å°†ä¼šæ”¶åˆ°è­¦å‘Š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm deprecate &lt;pkg&gt;[@&lt;version&gt;] &lt;message&gt;</span><br></pre></td></tr></table></figure>

<p><a name="uBrUi"></a></p>
<h4 id="npm-dist-tag"><a href="#npm-dist-tag" class="headerlink" title="npm dist-tag"></a><a href="https://github.com/theicebear/npm-basic-usage#npm-dist-tag" target="_blank" rel="noopener"></a>npm dist-tag</h4><ol>
<li><p>ç»™ä¸€ä¸ªåŒ…çš„æŸä¸ªç‰ˆæœ¬æ³¨å†Œ tag</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm dist-tag add &lt;pkg&gt;@&lt;version&gt; [&lt;tag&gt;]</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç§»é™¤ä¸€ä¸ª tag</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm dist-tag rm &lt;pkg&gt; &lt;tag&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ˜¾ç¤ºæŒ‡å®šåŒ…çš„æ‰€æœ‰ tag</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm dist-tag ls [&lt;pkg&gt;]</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p><a name="iraAO"></a></p>
<h4 id="npm-view"><a href="#npm-view" class="headerlink" title="npm view"></a><a href="https://github.com/theicebear/npm-basic-usage#npm-view" target="_blank" rel="noopener"></a>npm view</h4><ol>
<li>æ˜¾ç¤ºä¸€ä¸ªåŒ…çš„è¯¦ç»†ä¿¡æ¯<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm view [&lt;@scope&gt;/]&lt;name&gt;[@&lt;version&gt;] [&lt;field&gt;[.&lt;subfield&gt;]...]</span><br></pre></td></tr></table></figure>

</li>
</ol>
<blockquote>
<p><code>&lt;field&gt;</code> å’Œ <code>&lt;subfield&gt;</code> è¡¨ç¤ºè¾“å‡ºä¿¡æ¯ä¸­çš„å­—æ®µ</p>
</blockquote>
<ol>
<li><p>åˆ«åï¼š<code>info</code>ã€<code>show</code>ã€<code>v</code><br><br><a name="aTxTO"></a></p>
<h4 id="npm-link"><a href="#npm-link" class="headerlink" title="npm link"></a><a href="https://github.com/theicebear/npm-basic-usage#npm-link" target="_blank" rel="noopener"></a>npm link</h4><p>å°†ä¸€ä¸ªæœ¬åœ°ç›®å½•ä¸­çš„æ¨¡å—ç¬¦å·é“¾æ¥è‡³ä¸€ä¸ªé¡¹ç›®çš„ä¾èµ–ä¸­ï¼Œå®ç°ä¸Šè¿°åŠŸèƒ½éœ€è¦ä¸¤æ­¥ï¼š</p>
</li>
<li><p>åœ¨æ¨¡å—ç›®å½•ä¸­æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œåˆ›å»ºä¸€ä¸ªä»å…¨å±€ä¾èµ–æŒ‡å‘å½“å‰ç›®å½•çš„ç¬¦å·é“¾æ¥</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm link</span><br></pre></td></tr></table></figure>

</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/Cellar/nvm/0.25.4/versions/node/v4.4.4/lib/node_modules/handgrip</span><br><span class="line">-&gt; /Users/Dylan/handgrip</span><br></pre></td></tr></table></figure>

<ol>
<li>åœ¨å…¶ä»–ç›®å½•ä¸­æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œåˆ›å»ºä¸€ä¸ªä»å±€éƒ¨ä¾èµ–æŒ‡å‘å…¨å±€ä¾èµ–çš„ç¬¦å·é“¾æ¥<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm link [&lt;@scope&gt;/]&lt;pkg&gt;[@&lt;version&gt;]</span><br></pre></td></tr></table></figure>

</li>
</ol>
<blockquote>
<p><code>[&lt;@scope&gt;/]&lt;pkg&gt;[@&lt;version&gt;]</code> æ‰€è¡¨ç¤ºå·²ç»æ‰§è¡Œäº†ç¬¬ä¸€æ­¥çš„æ¨¡å—ï¼Œæˆ–å…¶æ‰€åŒ…å«çš„ç‰ˆæœ¬</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># npm link handgrip</span><br><span class="line">/Users/Dylan/koalition-boilerplate/node_modules/handgrip</span><br><span class="line">-&gt; /usr/local/Cellar/nvm/0.25.4/versions/node/v4.4.4/lib/node_modules/handgrip</span><br><span class="line">-&gt; /Users/Dylan/handgrip</span><br></pre></td></tr></table></figure>

<p>ç”±äºä¾èµ–é€šè¿‡ç¬¦å·é“¾æ¥çš„æ–¹å¼ç»„ç»‡ï¼Œåœ¨æ¨¡å—ç›®å½•ä¸­çš„ä¿®æ”¹å¯ä»¥ç«‹å³åœ¨å…¶ä»–ç›®å½•ä¸­ç”Ÿæ•ˆã€‚<br><a name="AO1sx"></a></p>
<h4 id="npm-conifg"><a href="#npm-conifg" class="headerlink" title="npm conifg"></a><a href="https://github.com/theicebear/npm-basic-usage#npm-conifg" target="_blank" rel="noopener"></a>npm conifg</h4><ol>
<li><p>è®¾ç½®ä¸€ä¸ªé…ç½®é¡¹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm config set &lt;key&gt; &lt;value&gt; [-g|--global]</span><br><span class="line">npm set &lt;key&gt; &lt;value&gt; [-g|--global]</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¦‚æœé…ç½®é¡¹çš„å€¼é˜™å¦‚ï¼Œå°†é‡‡ç”¨é»˜è®¤å€¼ <code>true</code>ã€‚</p>
</li>
<li><p>è¯»å–ä¸€ä¸ªé…ç½®é¡¹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm config get &lt;key&gt;</span><br><span class="line">npm get &lt;key&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ é™¤ä¸€ä¸ªé…ç½®é¡¹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config delete key</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ—å‡ºæ‰€æœ‰çš„é…ç½®</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config list</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨ç¼–è¾‘å™¨ä¸­æ‰“å¼€é…ç½®æ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config edit</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨ <code>--global</code> æ¥æ‰“å¼€å…¨å±€é…ç½®æ–‡ä»¶ã€‚<br><a name="gAGTg"></a></p>
<h2 id="å·¥ä½œåŸç†"><a href="#å·¥ä½œåŸç†" class="headerlink" title="å·¥ä½œåŸç†"></a><a href="https://github.com/theicebear/npm-basic-usage#%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86" target="_blank" rel="noopener"></a>å·¥ä½œåŸç†</h2><blockquote>
<p>ä¸‹é¢çš„å†…å®¹åŸºæœ¬ä¸Šç¿»è¯‘äº† <a href="https://docs.npmjs.com/how-npm-works/npm3" target="_blank" rel="noopener">npm v3 Dependency Resolution</a>ã€<a href="https://docs.npmjs.com/how-npm-works/npm3-dupe" target="_blank" rel="noopener">npm3 Duplication and Deduplication</a>ã€<a href="https://docs.npmjs.com/how-npm-works/npm3-nondet" target="_blank" rel="noopener">npm3 Non-determinism</a> è¿™ä¸‰ç¯‡æ–‡ç« </p>
</blockquote>
</li>
</ol>
<p>npm v3 ä¾èµ–è§£æçš„ä¸»è¦æ€æƒ³ï¼šå°½å¯èƒ½åœ°å‡å°‘é—´æ¥ä¾èµ–å®‰è£…ç›®å½•çš„æ·±åº¦ï¼Œæœ€ç†æƒ³çš„æƒ…å†µæ˜¯ä¸ç›´æ¥ä¾èµ–å®‰è£…åœ¨åŒä¸€ç›®å½•ä¸‹ï¼Œé€šè¿‡è¿™ç§æ–¹å¼æ¥å‡å°‘ä¾èµ–ç›®å½•çš„åµŒå¥—ï¼Œç¼“è§£æ•´ä¸ªä¾èµ–ç›®å½•å±‚æ¬¡è¿‡æ·±çš„é—®é¢˜ã€‚ï¼ˆå› ä¸º Windows ä¸­æ–‡ä»¶è·¯å¾„çš„é•¿åº¦ä¸èƒ½å¤§äº 260 ä¸ªå­—ç¬¦ã€‚ï¼‰<br>ğŸŒ°ï¼š<br>å‡å¦‚æˆ‘ä»¬æœ‰æ¨¡å— Aï¼Œæ¨¡å— A ä¾èµ–äº†æ¨¡å— Bã€‚</p>
<p>ç„¶åæˆ‘ä»¬åˆ›å»ºäº†å·²ä¾èµ–æ¨¡å— A çš„åº”ç”¨ Appã€‚<br>åœ¨æ‰§è¡Œ <code>npm install</code> çš„æ—¶å€™ï¼Œnpm v3 ä¼šæŠŠæ¨¡å— A åŠå…¶ä¾èµ–æ¨¡å— B éƒ½å®‰è£…åœ¨ <code>/node_modules</code> ç›®å½•ä¸­ã€‚ï¼ˆnpm v2 åˆ™ä¼šæŠŠæ¨¡å— B ä¼šåµŒå¥—åœ¨æ¨¡å— A ä¸­ã€‚ï¼‰</p>
<p>æ­¤æ—¶ï¼Œæˆ‘ä»¬çš„åº”ç”¨ App åˆéœ€è¦ä¾èµ–æ¨¡å— Cï¼Œè€Œæ¨¡å— C ä¾èµ–äº†å¦ä¸€ä¸ªç‰ˆæœ¬çš„æ¨¡å— Bã€‚</p>
<p>ç„¶è€Œï¼Œç”±äºæ¨¡å— B v1.0 å·²ç»è¢«å®‰è£…åœ¨äº†é¡¶å±‚ä¾èµ–ç›®å½•ä¸­ï¼Œæ¨¡å— B v2.0 å°±æ— æ³•å®‰è£…åˆ°åŒä¸€ä½ç½®äº†ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œnpm v3 å°†ä¼šé»˜è®¤é‡‡ç”¨ npm v2 çš„è¡Œä¸ºï¼Œå°†è¿™ä¸ªæ–°çš„æ¨¡å— B åµŒå¥—åœ¨ä¾èµ–å®ƒçš„æ¨¡å—ä¸­ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒæŠŠæ¨¡å— B v2.0 å®‰è£…åˆ°æ¨¡å— C ä¸­ã€‚</p>
<p>åœ¨æ§åˆ¶å°æ‰“å°å‡ºä¾èµ–æ ‘å’Œç›®å½•æ ‘ã€‚</p>
<hr>
<p><em>å¦‚æœå†å®‰è£…ä¸€ä¸ªä¾èµ–æ¨¡å— B v1.0 æˆ– v2.0 ä¼šæ€ä¹ˆæ ·å‘¢ï¼Ÿ</em><br>æ­¤æ—¶ï¼Œæˆ‘ä»¬çš„åº”ç”¨ App åˆéœ€è¦ä¾èµ–æ¨¡å— Dï¼Œè€Œæ¨¡å— D ä¸æ¨¡å— C ä¸€æ ·ï¼Œä¾èµ–äº†æ¨¡å— B v2.0ã€‚</p>
<p>ç”±äºæ¨¡å— B v1.0 å·²ç»è¢«å®‰è£…åœ¨äº†é¡¶å±‚ä¾èµ–ç›®å½•ä¸­ï¼Œæ¨¡å— B v2.0 å°±æ— æ³•å®‰è£…åˆ°åŒä¸€ä½ç½®äº†ã€‚å› æ­¤ï¼Œå°½ç®¡æ¨¡å— C ä¸­å·²ç»æœ‰äº†ä¸€ä»½æ‹·è´ï¼Œæ¨¡å— B v2.0 è¿˜æ˜¯è¢«å®‰è£…åˆ°äº†æ¨¡å— D ä¸­ï¼ˆå¦åˆ™å°± requrie ä¸åˆ°äº†ï¼‰ã€‚</p>
<p>å¦‚æœä¸€ä¸ªé—´æ¥ä¾èµ–è¢«ä¸¤ä¸ªä»¥ä¸Šçš„åŒ…æ‰€ä¾èµ–ï¼Œä¸”ä¸èƒ½å®‰è£…åœ¨é¡¶å±‚ä¾èµ–ç›®å½•ä¸­ï¼Œé‚£ä¹ˆè¿™ä¸ªé—´æ¥ä¾èµ–ä¼šè¢«å¤åˆ¶ä¸€ä»½ï¼Œå¹¶åµŒå¥—åœ¨ç›´æ¥ä¾èµ–çš„ç›®å½•ä¸­ã€‚<br>ç›¸ååœ°ï¼Œå¦‚æœä¸€ä¸ªé—´æ¥ä¾èµ–è¢«ä¸¤ä¸ªä»¥ä¸Šçš„åŒ…æ‰€ä¾èµ–ï¼Œä¸”è¢«å®‰è£…åœ¨é¡¶å±‚ä¾èµ–ç›®å½•ä¸­ï¼Œé‚£ä¹ˆè¿™ä¸ªä¾èµ–å°±ä¸ä¼šè¢«å¤åˆ¶ï¼Œè€Œè¢«ä¾èµ–å®ƒçš„åŒ…æ‰€å…±äº«ã€‚<br>ğŸŒ°ï¼Œæˆ‘ä»¬åˆåŠ äº†ä¸€ä¸ªä¾èµ–æ¨¡å— Eï¼Œæ¨¡å— E ä¸æ¨¡å— A ä¸€æ ·ï¼Œä¾èµ–äº†æ¨¡å— B v1.0ã€‚</p>
<p>ç”±äºæ¨¡å— B v1.0 å·²ç»å®‰è£…å†æ¥é¡¶å±‚ä¾èµ–ç›®å½•ä¸­ï¼Œæ‰€ä»¥ä¸éœ€è¦å¤åˆ¶å¹¶åµŒå¥—è¯¥æ¨¡å—ï¼Œç›´æ¥å®‰è£…æ¨¡å— Eï¼Œç„¶åæ¨¡å— E å°±å¯ä»¥ä¸æ¨¡å— A å…±äº«æ¨¡å— B v1.0 äº†ã€‚</p>
<p>åœ¨æ§åˆ¶å°æ‰“å°å‡ºä¾èµ–æ ‘å’Œç›®å½•æ ‘ã€‚</p>
<hr>
<p><em>å¦‚æœæˆ‘ä»¬æŠŠæ¨¡å— A å‡çº§è‡³ v2.0ï¼Œæ¨¡å— A v2.0 ä¸å†ä¾èµ–æ¨¡å— B v1.0ï¼Œè€Œæ˜¯ä¾èµ–æ¨¡å— B v2.0ï¼Œè¿™ä¼šæ€ä¹ˆæ ·å‘¢ï¼Ÿ</em><br>æ‰§è¡Œ <code>npm install mod-a@2</code>ï¼Œnpm v3 å°†åšä»¥ä¸‹äº‹æƒ…ï¼š</p>
<ol>
<li>ç§»é™¤æ¨¡å— A v1.0</li>
<li>å®‰è£…æ¨¡å— A v2.0</li>
<li>ä¿ç•™æ¨¡å— B v1.0ï¼Œå› ä¸ºæ¨¡å— E ä»æ—§ä¾èµ–å®ƒ</li>
<li>ç”±äºæ¨¡å— B v1.0 è¿˜åœ¨é¡¶å±‚ä¾èµ–ç›®å½•ä¸­ï¼Œæ¨¡å— B v2.0 è¢«åµŒå¥—å®‰è£…åœ¨æ¨¡å— A v2.0 ä¸­</li>
</ol>
<p>åœ¨æ§åˆ¶å°æ‰“å°å‡ºä¾èµ–æ ‘å’Œç›®å½•æ ‘ã€‚</p>
<p>æœ€åï¼Œæˆ‘ä»¬å§æ¨¡å— E å‡çº§è‡³ v2.0ï¼Œæ¨¡å— E v2.0 åŒæ ·ä¸å†ä¾èµ–æ¨¡å— B v1.0ï¼Œè€Œæ˜¯ä¾èµ–æ¨¡å— B v2.0ã€‚</p>
<p>npm v3 å°†åšä»¥ä¸‹äº‹æƒ…ï¼š</p>
<ol>
<li>ç§»é™¤æ¨¡å— E v1.0</li>
<li>å®‰è£…æ¨¡å— E v2.0</li>
<li>ç”±äºæ²¡æœ‰æ¨¡å—ä¾èµ–æ¨¡å— B v1.0ï¼Œç§»é™¤è¯¥æ¨¡å—</li>
<li>ç”±äºé¡¶å±‚ä¾èµ–ç›®å½•ä¸­æ²¡æœ‰æ¨¡å— Bï¼Œåœ¨è¯¥ç›®å½•ä¸­å®‰è£…æ¨¡å— B v2.0</li>
</ol>
<p>åœ¨æ§åˆ¶å°æ‰“å°å‡ºä¾èµ–æ ‘å’Œç›®å½•æ ‘ã€‚</p>
<p>ç°åœ¨ï¼Œæ¨¡å— B v2.0 å‡ ä¹å‡ºç°åœ¨äº†æ¯ä¸€ä¸ªä¾èµ–ç›®å½•ä¸­ï¼Œè¿™æ˜¾ç„¶ä¸å¤Ÿç®€æ´ï¼Œæˆ‘ä»¬å¯ä»¥æ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm dedupe</span><br></pre></td></tr></table></figure>

<p>è¿™æ¡å‘½ä»¤å¯ä»¥ä»…ä¿ç•™é¡¶å±‚ä¾èµ–ç›®å½•ä¸­çš„æ¨¡å— B v2.0ï¼Œè€Œç§»é™¤å…¶ä»–æ¬¡çº§ç›®å½•ä¸­çš„æ‹·è´ã€‚<br>åœ¨æ§åˆ¶å°æ‰“å°å‡ºç›®å½•æ ‘ã€‚</p>
<hr>
<p>æˆ‘ä»¬è®© App å›åˆ°åˆšæ‰çš„ä¸€ä¸ªçŠ¶æ€ï¼š</p>
<p>åœ¨è¿™ä¸ªğŸŒ°ä¸­ï¼Œæˆ‘ä»¬çš„åº”ç”¨æœ‰ä»¥ä¸‹ <code>package.json</code> æ–‡ä»¶ï¼š<br>{<br>  â€œnameâ€: â€œexample3â€,<br>  â€œversionâ€: â€œ1.0.0â€,<br>  â€œdescriptionâ€: â€œâ€,<br>  â€œmainâ€: â€œindex.jsâ€,<br>  â€œscriptsâ€: {<br>    â€œtestâ€: â€œecho &quot;Error: no test specified&quot; &amp;&amp; exit 1â€<br>  },<br>  â€œkeywordsâ€: [],<br>  â€œauthorâ€: â€œâ€,<br>  â€œlicenseâ€: â€œISCâ€,<br>  â€œdependenciesâ€: {<br>    â€œmod-aâ€: â€œ^1.0.0â€,<br>    â€œmod-câ€: â€œ^1.0.0â€,<br>    â€œmod-dâ€: â€œ^1.0.0â€,<br>    â€œmod-eâ€: â€œ^1.0.0â€<br>  }<br>}<br>å¦‚æœæ­¤æ—¶è¿è¡Œ <code>npm install</code>ï¼Œæ§åˆ¶å°ä¼šè¾“å‡ºä»¥ä¸‹ç»“æœï¼š</p>
<p>ç„¶åï¼Œæˆ‘ä»¬å†æ¬¡æŠŠæ¨¡å— A å‡çº§åˆ° v2.0ï¼Œæ¨¡å— A v2.0 ä¸åœ¨ä¾èµ–æ¨¡å— B v1.0ï¼Œè€Œæ˜¯ä¾èµ–æ¨¡å— B v2.0ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install mod-a@2 --save</span><br></pre></td></tr></table></figure>

<p>æ§åˆ¶å°è¾“å‡ºï¼š</p>
<p>æ­¤æ—¶ï¼Œæˆ‘ä»¬çš„ä¾èµ–ç›®å½•çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„ï¼š</p>
<p>è€Œä¸”æˆ‘ä»¬å¾—åˆ°äº†ä¸€ä¸ªæ–°çš„ <code>package.json</code>ï¼š<br>{<br>  â€œnameâ€: â€œexample3â€,<br>  â€œversionâ€: â€œ1.0.0â€,<br>  â€œdescriptionâ€: â€œâ€,<br>  â€œmainâ€: â€œindex.jsâ€,<br>  â€œscriptsâ€: {<br>    â€œtestâ€: â€œecho &quot;Error: no test specified&quot; &amp;&amp; exit 1â€<br>  },<br>  â€œkeywordsâ€: [],<br>  â€œauthorâ€: â€œâ€,<br>  â€œlicenseâ€: â€œISCâ€,<br>  â€œdependenciesâ€: {<br>    â€œmod-aâ€: â€œ^2.0.0â€,<br>    â€œmod-câ€: â€œ^1.0.0â€,<br>    â€œmod-dâ€: â€œ^1.0.0â€,<br>    â€œmod-eâ€: â€œ^1.0.0â€<br>  }<br>}<br>æ¥ç€ï¼Œæˆ‘ä»¬è¿è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure>

<p>æ§åˆ¶å°è¾“å‡ºï¼š</p>
<p>ä¾èµ–ç›®å½•å˜æˆäº†ï¼š</p>
<hr>
<p><strong>æ€»ç»“ï¼š</strong></p>
<ol>
<li><p>ä¾èµ–ç›®å½•çš„ç»“æ„å–å†³äºä¾èµ–å®‰è£…çš„é¡ºåº</p>
</li>
<li><p><code>npm install</code> ï¼ˆä¸å¸¦å‚æ•°ï¼‰å®‰è£…å‡ºçš„ä¾èµ–ç›®å½•ç»“æ„æ˜¯ç¨³å®šçš„ï¼Œå› ä¸º <code>package.json</code> ä¸­ä¾èµ–çš„æ’åˆ—é¡ºåºæ€»æ˜¯å­—å…¸åº<br></p>
</li>
<li><p>npm v3 éœ€è¦å°½å¯èƒ½çš„å‡å°‘é—´æ¥ä¾èµ–å®‰è£…ç›®å½•çš„æ·±åº¦ï¼Œäºæ˜¯ä¸å¾—ä¸ä»æ ‘æ ¹è‡³æ ‘å¶ä¸€çº§ä¸€çº§éå†ä¸‹æ¥ï¼Œå¯»æ‰¾å¯ç”¨çš„æœ€è¿œç¥–å…ˆèŠ‚ç‚¹ï¼Œä¸¥é‡å»¶é•¿äº†ä¾èµ–çš„å®‰è£…æ—¶é—´<br><br><a name="K9KJm"></a></p>
<h2 id="å®ç”¨æŠ€å·§"><a href="#å®ç”¨æŠ€å·§" class="headerlink" title="å®ç”¨æŠ€å·§"></a><a href="https://github.com/theicebear/npm-basic-usage#%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7" target="_blank" rel="noopener"></a>å®ç”¨æŠ€å·§</h2><p><a name="nSXev"></a></p>
<h3 id="pacakge-json"><a href="#pacakge-json" class="headerlink" title="pacakge.json"></a><a href="https://github.com/theicebear/npm-basic-usage#pacakgejson" target="_blank" rel="noopener"></a>pacakge.json</h3><p><a name="5DMsW"></a></p>
<h4 id="dependencies"><a href="#dependencies" class="headerlink" title="dependencies"></a><a href="https://github.com/theicebear/npm-basic-usage#dependencies" target="_blank" rel="noopener"></a>dependencies</h4><p>ç‰ˆæœ¬å·çš„å†™æ³•ï¼š</p>
</li>
</ol>
<ul>
<li><code>version</code>: å¿…é¡»åŒ¹é…ç¡®åˆ‡çš„ç‰ˆæœ¬å·</li>
<li><code>&gt;version</code>ã€<code>&gt;=version</code>ã€<code>&lt;version</code>ã€<code>&lt;=version</code></li>
<li><code>~version</code>ï¼šå¦‚æœ minor çº§çš„ç‰ˆæœ¬è¢«ç¡®å®šçš„è¯ï¼Œå…è®¸ patch çº§çš„ç‰ˆæœ¬å˜åŒ–ï¼›å¦åˆ™å…è®¸ minor çº§ç‰ˆæœ¬å˜åŒ–<ul>
<li><code>~1.2.3</code> := <code>&gt;=1.2.3 &lt;1.3.0</code></li>
<li><code>~1.2</code> := <code>&gt;=1.2.0 &lt;1.3.0</code></li>
<li><code>~1</code> := <code>&gt;=1.0.0 &lt;2.0.0</code></li>
<li><code>~0.2.3</code> := <code>&gt;=0.2.3 &lt;0.3.0</code></li>
<li><code>~0</code> := <code>&gt;=0.0.0 &lt;1.0.0</code></li>
<li><code>~1.2.3-beta.2</code> := <code>&gt;=1.2.3-beta.2 &lt;1.3.0</code></li>
</ul>
</li>
<li><code>^version</code>ï¼šå…è®¸ç‰ˆæœ¬å·ä¸­ä¸ä¿®æ”¹æœ€å·¦éé›¶ä½åŠå…¶å‰ç¼€çš„æ‰€æœ‰ç‰ˆæœ¬å·æ›´é«˜çš„å˜åŒ–<ul>
<li><code>^1.2.3</code> := <code>&gt;=1.2.3 &lt;2.0.0</code></li>
<li><code>^0.2.3</code> := <code>&gt;=0.2.3 &lt;0.3.0</code></li>
<li><code>^0.0.3</code> := <code>&gt;=0.0.3 &lt;0.0.4</code></li>
<li><code>^1.2.3-beta.2</code> := <code>&gt;=1.2.3-beta.2 &lt;2.0.0</code></li>
<li><code>^0.0.3-beta</code> := <code>&gt;=0.0.3-beta &lt;0.0.4</code></li>
<li><code>^1.2.x</code> := <code>&gt;=1.2.0 &lt;2.0.0</code></li>
<li><code>^0.0.x</code> := <code>&gt;=0.0.0 &lt;0.1.0</code></li>
<li><code>^0.0</code> := <code>&gt;=0.0.0 &lt;0.1.0</code></li>
<li><code>^1.x</code> := <code>&gt;=1.0.0 &lt;2.0.0</code></li>
</ul>
</li>
<li><code>1.2.x</code>ï¼š<code>1.2.0</code>ã€<code>1.2.1</code> ç­‰ï¼Œä¸åŒ…æ‹¬ <code>1.3.0</code></li>
<li><code>*</code> æˆ–ç©ºï¼šä»»ä½•ç‰ˆæœ¬</li>
<li><code>version1 - version2</code>ï¼š<code>&gt;=version1 &lt;=version2</code></li>
<li><code>range1 || range2</code></li>
<li><code>tag</code>ï¼šæŒ‡å®š tag</li>
<li><code>file:...</code>ï¼šæœ¬åœ°è·¯å¾„</li>
<li><code>http://...</code>ã€<code>git...</code>ï¼šç½‘ç»œè·¯å¾„<ul>
<li><code>git://github.com/user/project.git#commit-ish</code></li>
<li><code>git+ssh://user@hostname:project.git#commit-ish</code></li>
<li><code>git+ssh://user@hostname/project.git#commit-ish</code></li>
<li><code>git+http://user@hostname/project/blah.git#commit-ish</code></li>
<li><code>git+https://user@hostname/project/blah.git#commit-ish</code></li>
</ul>
</li>
<li><code>user/repo#commit-ish</code>ï¼šGitHub ä»“åº“<br><a name="AJ3R4"></a><h4 id="optionalDependencies"><a href="#optionalDependencies" class="headerlink" title="optionalDependencies"></a><a href="https://github.com/theicebear/npm-basic-usage#optionaldependencies" target="_blank" rel="noopener"></a>optionalDependencies</h4><code>optionalDependencies</code> ä¸­çš„ä¾èµ–å®‰è£…å¤±è´¥æ—¶ï¼Œnpm ä¸ä¼šåœæ­¢æ•´ä¸ªå®‰è£…è¿‡ç¨‹ã€‚<br>æ¨¡å—æœ¬èº«åº”å½“å¤„ç†ç”±äºä¾èµ–å®‰è£…å¤±è´¥å¯¼è‡´ä¾èµ–ç¼ºå¤±çš„é—®é¢˜ï¼ŒğŸŒ°å¦‚ï¼š<br>try {<br>  var foo = require(â€˜fooâ€™)<br>  var fooVersion = require(â€˜foo/package.jsonâ€™).version<br>} catch (er) {<br>  foo = null<br>}<br>if ( notGoodFooVersion(fooVersion) ) {<br>  foo = null<br>}</li>
</ul>
<p>// .. then later in your program ..</p>
<p>if (foo) {<br>  foo.doFooThings()<br>}
<a name="Tp343"></a></p>
<h4 id="peerDependencies"><a href="#peerDependencies" class="headerlink" title="peerDependencies"></a><a href="https://github.com/theicebear/npm-basic-usage#peerdependencies" target="_blank" rel="noopener"></a>peerDependencies</h4><p><code>peerDependencies</code> è¡¨ç¤ºå½“å‰æ¨¡å—<strong>é€‚é…</strong>å…¶ä»–æŸäº›æ¨¡å—ï¼Œä¹Ÿå°±æ˜¯åªæœ‰å½“é‚£äº›æŒ‡å®šçš„æ¨¡å—è¢«å®‰è£…æ—¶ï¼Œå½“å‰æ¨¡å—æ‰ä¼šè¢«å®‰è£…ã€‚<br>ğŸŒ°å¦‚ï¼š<br>{<br>  â€œnameâ€: â€œtea-latteâ€,<br>  â€œversionâ€: â€œ1.3.5â€,<br>  â€œpeerDependenciesâ€: {<br>    â€œteaâ€: â€œ2.xâ€<br>  }<br>}<br>è¡¨ç¤ºç¡®ä¿æ¨¡å— tea-latte åªèƒ½åŒæ¨¡å— tea 2.x ä¸€èµ·å®‰è£…ã€‚</p>
<blockquote>
<p>å¦‚æœ <code>peerDependencies</code> ä¸­çš„æ¨¡å—æ²¡æœ‰è¢«æ˜ç¡®ä¾èµ–çš„è¯ï¼Œnpm v2 ä¼šè‡ªåŠ¨å®‰è£…è¿™äº›æ¨¡å—ï¼Œä½† npm v3 ä¸ä¼šå†å®‰è£…è¿™äº›æ¨¡å—ï¼Œè€Œæ˜¯è¾“å‡ºä¸€ä¸ªè­¦å‘Šã€‚</p>
</blockquote>
<p><a name="eljYH"></a></p>
<h4 id="bundledDependencies"><a href="#bundledDependencies" class="headerlink" title="bundledDependencies"></a><a href="https://github.com/theicebear/npm-basic-usage#bundleddependencies" target="_blank" rel="noopener"></a>bundledDependencies</h4><p><code>bundledDependencies</code> è¡¨ç¤ºåœ¨å½“å‰æ¨¡å—æ‰“åŒ…æˆ–å‘å¸ƒæ—¶ï¼Œéœ€è¦è¢«ç½®äºæ¨¡å—å†…éƒ¨çš„ä¾èµ–ã€‚<br>ä½¿ç”¨çš„æ—¶æœºï¼š</p>
<ol>
<li>ä½¿ç”¨çš„ä¾èµ–ä¸æ˜¯æ¥è‡ªäº npmï¼Œæˆ–è€…ä¿®æ”¹äº†è¿™ä¸ªä¾èµ–</li>
<li>ä½¿ç”¨å¼€å‘è€…è‡ªå·±çš„é¡¹ç›®ä½œä¸ºä¾èµ–</li>
<li>å¸Œæœ›åœ¨æ¨¡å—ä¸­åŒ…å«ä¸€äº›æ–‡ä»¶<br><a name="zfgGA"></a><h4 id="bin"><a href="#bin" class="headerlink" title="bin"></a><a href="https://github.com/theicebear/npm-basic-usage#bin" target="_blank" rel="noopener"></a>bin</h4>å°†å¯æ‰§è¡Œçš„æ–‡ä»¶å®‰è£…åˆ° PATH ä¸­ã€‚å¯èƒ½å®‰è£…åˆ°çš„ä½ç½®æœ‰ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># global:</span><br><span class="line">/usr/local/opt/nvm/versions/node/v4.4.4/bin/</span><br><span class="line">/usr/local/bin/</span><br><span class="line"># local:</span><br><span class="line">./node_modules/.bin/</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>ğŸŒ°ï¼š<br>{ â€œbinâ€ : { â€œmyappâ€ : â€œ./cli.jsâ€ } }<br>å½“å®‰è£…è¿™ä¸ªæ¨¡å—æ—¶ï¼Œnpm ä¼šåˆ›å»ºä¸€ä¸ªæŒ‡å‘ <code>cli.js</code> çš„ç¬¦å·é“¾æ¥ã€‚<br>{ â€œnameâ€: â€œmy-programâ€,<br>  â€œversionâ€: â€œ1.2.5â€,<br>  â€œbinâ€: â€œ./path/to/programâ€ }<br>ä¸Šé¢çš„å†™æ³•ç­‰ä»·äºï¼š<br>{ â€œnameâ€: â€œmy-programâ€,<br>  â€œversionâ€: â€œ1.2.5â€,<br>  â€œbinâ€ : { â€œmy-programâ€ : â€œ./path/to/programâ€ } }<br><a name="FozEp"></a></p>
<h4 id="config"><a href="#config" class="headerlink" title="config"></a><a href="https://github.com/theicebear/npm-basic-usage#config" target="_blank" rel="noopener"></a>config</h4><p><code>package.json</code> æ–‡ä»¶ä¸­çš„ <code>config</code> å­—æ®µå¯ä»¥ç”¨æ¥è®¾ç½®æ¨¡å—è„šæœ¬ä¸­å¯ä»¥ç”¨åˆ°çš„é…ç½®å‚æ•°ã€‚<br>ğŸŒ°ï¼Œå¦‚æœä¸€ä¸ªæ¨¡å—æœ‰ï¼š<br>{ â€œnameâ€ : â€œfooâ€,<br>  â€œconfigâ€ : { â€œportâ€ : â€œ8080â€ } }<br>é‚£ä¹ˆåœ¨æ¨¡å—è„šæœ¬ï¼ˆå¦‚ <code>start</code>ï¼‰ä¸­å°±å¯ä»¥é€šè¿‡ <code>process.env.npm_package_config_port</code>ï¼Œè®¿é—®åˆ°è¿™ä¸ªé…ç½®ã€‚<br>è¿™ä¸ªé…ç½®ä¹Ÿå¯ä»¥è¢«å‘½ä»¤ <code>npm config set foo:port 8001</code> è¦†ç›–ã€‚<br><a name="IkhZh"></a></p>
<h3 id="npmrc"><a href="#npmrc" class="headerlink" title=".npmrc"></a><a href="https://github.com/theicebear/npm-basic-usage#npmrc" target="_blank" rel="noopener"></a>.npmrc</h3><p>é…ç½®æ–‡ä»¶æœ‰ï¼š</p>
<ul>
<li>é¡¹ç›®é…ç½®æ–‡ä»¶ï¼ˆ/path/to/my/project/.npmrcï¼‰</li>
<li>ç”¨æˆ·é…ç½®æ–‡ä»¶ï¼ˆ~/.npmrcï¼‰</li>
<li>å…¨å±€é…ç½®æ–‡ä»¶ï¼ˆ/path/to/node/etc/npmrcï¼‰</li>
<li>å†…ç½®é…ç½®æ–‡ä»¶ï¼ˆ/path/to/npm/npmrcï¼‰</li>
</ul>
<p>ç¯å¢ƒå˜é‡ç”¨æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">prefix = $&#123;HOME&#125;/.npm-packages</span><br></pre></td></tr></table></figure>

<p>æ•°ç»„ç”¨æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">key[] = &quot;first value&quot;</span><br><span class="line">key[] = &quot;second value&quot;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>é¡¹ç›®é…ç½®æ–‡ä»¶å’Œç”¨æˆ·é…ç½®æ–‡ä»¶çš„æƒé™å¿…é¡»è®¾ç½®ä¸ºåªèƒ½è¢«å½“å‰ç”¨æˆ·è¯»å†™ï¼ˆ0600ï¼‰ï¼Œå¦åˆ™è¯¥é…ç½®æ–‡ä»¶ä¼šè¢« npm å¿½ç•¥</p>
</blockquote>
<p>å¯ä»¥é€šè¿‡ <code>npm config</code> å‘½ä»¤æ¥ç®¡ç†é…ç½®æ–‡ä»¶ã€‚<br>å¸¸ç”¨é…ç½®é¡¹ï¼š</p>
<ul>
<li><p><code>cache</code>ï¼šnpm æœ¬åœ°ç¼“å­˜ç›®å½•ï¼Œé»˜è®¤ <code>~/.npm</code></p>
</li>
<li><p><code>cache-max</code>ï¼šä¿æŒç¼“å­˜é¡¹ç›®ä¸”ä¸å‘ registry æ£€æŸ¥çš„æœ€é•¿æ—¶é—´ï¼Œå•ä½ç§’ï¼Œé»˜è®¤ <code>Infinity</code>ï¼Œç¼“å­˜ä¸­çš„æ•°æ®ä¸ä¼šè‡ªåŠ¨åˆ é™¤é™¤éæ‰§è¡Œ <code>npm cache clean</code> å‘½ä»¤</p>
</li>
<li><p><code>cache-min</code>ï¼šä¿æŒç¼“å­˜é¡¹ç›®ä¸”ä¸å‘ registry æ£€æŸ¥çš„æœ€çŸ­æ—¶é—´ï¼Œå•ä½ç§’ï¼Œé»˜è®¤ <code>10</code>ï¼Œå¯ä»¥ç½®ä¸º <code>999999</code> ç­‰ä»¥å°½é‡å»¶é•¿ç¼“å­˜ç”Ÿæ•ˆæ—¶é—´</p>
</li>
<li><p><code>depth</code>ï¼š<code>npm ls</code> ç­‰å‘½ä»¤ä¸­çš„é»˜è®¤æ·±åº¦ï¼Œé»˜è®¤ <code>Infinity</code></p>
</li>
<li><p><code>editor</code>ï¼šnpm é»˜è®¤ä½¿ç”¨çš„ç¼–è¾‘å™¨</p>
</li>
<li><p><code>engine-strict</code>ï¼šå¦‚æœç½®ä¸º <code>true</code>ï¼Œnpm å°†ä¼šæ‹’ç»å®‰è£…ä¸ç¬¦åˆå½“å‰ Node.js ç‰ˆæœ¬çš„æ¨¡å—</p>
</li>
<li><p><code>force</code>ï¼šå¼ºåŠ›æ‰§è¡Œä¸€äº›å‘½ä»¤</p>
<ul>
<li>ç”Ÿå‘½å‘¨æœŸè„šæœ¬æ‰§è¡Œå¤±è´¥ä¸å†é˜»å¡å®‰è£…è¿‡ç¨‹</li>
<li>å‘å¸ƒä¼šè¦†ç›–å·²ç»å‘å¸ƒçš„ç‰ˆæœ¬</li>
<li>è®¿é—® registry æ—¶ä¼šè·³è¿‡ç¼“å­˜</li>
</ul>
</li>
<li><p><code>global</code>ï¼šå…¨å±€æ¨¡å¼</p>
</li>
<li><p><code>globalconfig</code>ï¼šå…¨å±€é…ç½®æ–‡ä»¶çš„è·¯å¾„</p>
</li>
<li><p><code>global-style</code>ï¼šä»¥å®‰è£…å…¨å±€ä¾èµ–çš„æ–¹å¼å®‰è£…å±€éƒ¨ä¾èµ–ï¼Œåªæœ‰ç›´æ¥ä¾èµ–ä¼šè¢«æ”¾åœ¨é¡¶å±‚ä¾èµ–ç›®å½•ä¸­</p>
</li>
<li><p><code>https-proxy</code>ï¼šä»£ç†</p>
</li>
<li><p><code>if-present</code>ï¼šå¦‚æœç½®ä¸º <code>true</code>ï¼Œ<code>npm run-script</code> å°±ä¸ä¼šåœ¨è„šæœ¬æ‰¾ä¸åˆ°æ—¶æŠ¥é”™</p>
</li>
<li><p><code>ignore-scripts</code>ï¼šå¦‚æœç½®ä¸º <code>true</code>ï¼Œnpm å°±ä¸ä¼šè¿è¡Œ <code>package.json</code> å®šä¹‰çš„è„šæœ¬</p>
</li>
<li><p><code>init-module</code>ï¼šæŒ‡å®š <code>npm init</code> å‘½ä»¤è¿è¡Œçš„æ¨¡å—</p>
</li>
<li><p><code>init-author-name</code>ï¼š<code>npm init</code> ä½¿ç”¨çš„é»˜è®¤ä½œè€…å</p>
</li>
<li><p><code>init-author-email</code>ï¼š<code>npm init</code> ä½¿ç”¨çš„é»˜è®¤ä½œè€…é‚®ç®±</p>
</li>
<li><p><code>init-author-url</code>ï¼š<code>npm init</code> ä½¿ç”¨çš„é»˜è®¤ä½œè€… URL</p>
</li>
<li><p><code>init-license</code>ï¼š<code>npm init</code> ä½¿ç”¨çš„é»˜è®¤è®¸å¯è¯</p>
</li>
<li><p><code>init-version</code>ï¼š<code>npm init</code> ä½¿ç”¨çš„é»˜è®¤ç‰ˆæœ¬å·</p>
</li>
<li><p><code>json</code>ï¼š<code>npm ls</code> ç­‰å‘½ä»¤è¾“å‡º JSON æ ¼å¼çš„æ•°æ®</p>
</li>
<li><p><code>link</code>ï¼šå¦‚æœç½®ä¸º <code>true</code>ï¼Œå¦‚æœå…¨å±€ä¾èµ–ä¸­æœ‰åˆé€‚çš„åŒ…ï¼Œå®‰è£…å±€éƒ¨ä¾èµ–æ—¶å°†ä¼šç›´æ¥é“¾æ¥åˆ°è¿™ä¸ªå…¨å±€ä¾èµ–çš„åŒ…ï¼›å¦‚æœå…¨å±€ä¾èµ–ä¸­æ²¡æœ‰è¯¥åŒ…çš„ä»»ä½•ç‰ˆæœ¬ï¼Œåˆ™å…¨å±€å®‰è£…è¿™ä¸ªåŒ…ï¼Œå¹¶é“¾æ¥åˆ°å±€éƒ¨ä¾èµ–ä¸­ï¼›å…¶ä»–æƒ…å†µåˆ™åœ¨å±€éƒ¨ä¾èµ–ä¸­å®‰è£…è¯¥åŒ…</p>
</li>
<li><p><code>long</code>ï¼š<code>npm ls</code> å’Œ <code>npm search</code> æ˜¾ç¤ºé¢å¤–ä¿¡æ¯</p>
</li>
<li><p><code>message</code>ï¼š<code>npm version</code> å†™åœ¨ git æäº¤ä¸­çš„ä¿¡æ¯ï¼Œ<code>%s</code> å°†è¢«æ›¿æ¢ä¸ºç‰ˆæœ¬å·</p>
</li>
<li><p><code>npat</code>ï¼šå®‰è£…æ—¶è¿è¡Œæµ‹è¯•</p>
</li>
<li><p><code>onload-script</code>ï¼šæŒ‡å®šä¸€ä¸ªåœ¨ npm åŠ è½½æ—¶ <code>require()</code> çš„åŒ…ï¼Œç¼–ç¨‹ä½¿ç”¨ npm æ—¶å¯èƒ½ä¼šæœ‰ç”¨</p>
</li>
<li><p><code>only</code>ï¼šä¸å‘½ä»¤ä¸­çš„ <code>--only</code> æ•ˆæœç±»ä¼¼</p>
</li>
<li><p><code>optional</code>ï¼šå¦‚æœç½®ä¸º <code>false</code>ï¼Œåˆ™ä¸å®‰è£… <code>optionalDependencies</code> ä¸­çš„ä¾èµ–</p>
</li>
<li><p><code>prefix</code>ï¼šæŒ‡å®šå®‰è£…å…¨å±€ä¾èµ–çš„è·¯å¾„</p>
</li>
<li><p><code>production</code>ï¼šå¦‚æœç½®ä¸º <code>true</code>ï¼Œåˆ™å¼€å¯ç”Ÿäº§æ¨¡å¼ï¼Œ<code>npm install</code> å°†ä¸å®‰è£…å¼€å‘ä¾èµ–ï¼Œå£°æ˜å‘¨æœŸè„šæœ¬è¿è¡Œæ—¶è‡ªåŠ¨è®¾ç½® <code>NODE_ENV=&quot;production&quot;</code></p>
</li>
<li><p><code>registry</code>ï¼šæŒ‡å®š npm registry çš„ URL</p>
</li>
<li><p><code>rollback</code>ï¼šç§»é™¤å®‰è£…å¤±è´¥çš„æ¨¡å—</p>
</li>
<li><p><code>save</code>ï¼šä¸å‘½ä»¤ä¸­çš„ <code>--save</code> æ•ˆæœç±»ä¼¼</p>
</li>
<li><p><code>scope</code>ï¼šä¸å‘½ä»¤ä¸­çš„ <code>--scope</code> æ•ˆæœç±»ä¼¼</p>
</li>
<li><p><code>shrinkwrap</code>ï¼šå¦‚æœç½®ä¸º <code>false</code>ï¼Œå®‰è£…æ—¶å¿½ç•¥ <code>npm-shrinkwrap.json</code></p>
</li>
<li><p><code>progress</code>ï¼šå¦‚æœç½®ä¸º <code>false</code>ï¼Œä¸æ˜¾ç¤ºè¿›åº¦æ¡</p>
</li>
<li><p><code>loglevel</code>ï¼šè®¾ç½®è¾“å‡ºæ—¥å¿—çš„ levelï¼Œç½®ä¸º <code>silly</code> å¯ä»¥æ˜¾ç¤ºå…¨éƒ¨æ—¥å¿—<br><a name="BE5hK"></a></p>
<h3 id="npmignore"><a href="#npmignore" class="headerlink" title=".npmignore"></a><a href="https://github.com/theicebear/npm-basic-usage#npmignore" target="_blank" rel="noopener"></a>.npmignore</h3><p>å½“æ¨¡å—ç›®å½•ä¸­å­˜åœ¨ <code>.gitignore</code> ä½†æ²¡æœ‰ <code>.npmignore</code> æ—¶ï¼Œnpm å°†ä¼šå¿½ç•¥ <code>.gitignore</code> ä¸­çš„æ–‡ä»¶ã€‚å¦‚æœç›®å½•ä¸­å­˜åœ¨ <code>.npmignore</code>ï¼Œnpm å°†ä¼šæ ¹æ® <code>.npmignore</code> å¿½ç•¥æ–‡ä»¶ã€‚<br>é»˜è®¤è¢« npm å¿½ç•¥ï¼Œä¸éœ€è¦æ·»åŠ åˆ° <code>.npmignore</code> ä¸­çš„æ–‡ä»¶ï¼š</p>
</li>
<li><p><code>.*.swp</code></p>
</li>
<li><p><code>._*</code></p>
</li>
<li><p><code>.DS_Store</code></p>
</li>
<li><p><code>.git</code></p>
</li>
<li><p><code>.hg</code></p>
</li>
<li><p><code>.npmrc</code></p>
</li>
<li><p><code>.lock-wscript</code></p>
</li>
<li><p><code>.svn</code></p>
</li>
<li><p><code>.wafpickle-*</code></p>
</li>
<li><p><code>config.gypi</code></p>
</li>
<li><p><code>CVS</code></p>
</li>
<li><p><code>npm-debug.log</code></p>
</li>
</ul>
<p>é™¤äº† bundled dependencies å¤–ï¼Œnode_modules ä¸­çš„æ‰€æœ‰æ–‡ä»¶ä¹Ÿä¼šè¢«å¿½ç•¥ã€‚<br>ä¸‹é¢çš„æ–‡ä»¶å³ä½¿æ·»åŠ åˆ° <code>.npmignore</code> ä¸­çš„æ–‡ä»¶ä¹Ÿä¸ä¼šè¢«å¿½ç•¥ï¼š</p>
<ul>
<li><p><code>package.json</code></p>
</li>
<li><p><code>README</code>ï¼ˆåŠå…¶å˜ä½“ï¼‰</p>
</li>
<li><p><code>CHANGELOG</code>ï¼ˆåŠå…¶å˜ä½“ï¼‰</p>
</li>
<li><p><code>LICENSE</code>ã€<code>LICENCE</code><br><a name="ZwkeS"></a></p>
<h3 id="scripts"><a href="#scripts" class="headerlink" title="scripts"></a><a href="https://github.com/theicebear/npm-basic-usage#scripts" target="_blank" rel="noopener"></a>scripts</h3><p>npm æ”¯æŒçš„ç”Ÿå‘½å‘¨æœŸè„šæœ¬æœ‰ï¼š</p>
</li>
<li><p><code>prepublish</code>: å‘å¸ƒæ¨¡å—ä¹‹å‰æ‰§è¡Œï¼Œä¹Ÿåœ¨ä¸å¸¦ä»»ä½•å‚æ•°çš„å±€éƒ¨ <code>npm install</code> ä¹‹å‰æ‰§è¡Œ</p>
</li>
<li><p><code>publish</code>ã€<code>postpublish</code>: å‘å¸ƒæ¨¡å—ä¹‹åæ‰§è¡Œ</p>
</li>
<li><p><code>preinstall</code>: å®‰è£…è¯¥æ¨¡å—ä¹‹å‰æ‰§è¡Œ</p>
</li>
<li><p><code>install</code>ã€<code>postinstall</code>: å®‰è£…è¯¥æ¨¡å—ä¹‹åæ‰§è¡Œ</p>
</li>
<li><p><code>preuninstall</code>ã€<code>uninstall</code>: ç§»é™¤è¯¥æ¨¡å—ä¹‹å‰æ‰§è¡Œ</p>
</li>
<li><p><code>postuninstall</code>: ç§»é™¤è¯¥æ¨¡å—ä¹‹åæ‰§è¡Œ</p>
</li>
<li><p><code>preversion</code>ã€<code>version</code>: ä¿®æ”¹æ¨¡å—ç‰ˆæœ¬å·ä¹‹å‰æ‰§è¡Œ</p>
</li>
<li><p><code>postversion</code>: ä¿®æ”¹æ¨¡å—ç‰ˆæœ¬å·ä¹‹åæ‰§è¡Œ</p>
</li>
<li><p><code>pretest</code>ã€<code>test</code>ã€<code>posttest</code>: åœ¨ <code>test</code> å‘½ä»¤çš„å‰åæ‰§è¡Œ</p>
</li>
<li><p><code>prestop</code>ã€<code>stop</code>ã€<code>poststop</code>: åœ¨ <code>stop</code> å‘½ä»¤çš„å‰åæ‰§è¡Œ</p>
</li>
<li><p><code>prestart</code>ã€<code>start</code>ã€<code>poststart</code>: åœ¨ <code>start</code> å‘½ä»¤çš„å‰åæ‰§è¡Œ.</p>
</li>
<li><p><code>prerestart</code>ã€<code>restart</code>ã€<code>postrestart</code>: åœ¨ <code>restart</code> å‘½ä»¤çš„å‰åæ‰§è¡Œï¼Œå¦‚æœ <code>restart</code> è„šæœ¬æ²¡æœ‰æä¾›ï¼Œ<code>restart</code> å‘½ä»¤å°†ä¼šæ‰§è¡Œ <code>stop</code> è„šæœ¬å†æ‰§è¡Œ <code>start</code> è„šæœ¬</p>
</li>
</ul>
<p>å¯¹äºè‡ªå®šä¹‰åç§°çš„è„šæœ¬ï¼Œå¯ä»¥é€šè¿‡ <code>npm run-script &lt;pkg&gt; &lt;stage&gt;</code> æ¥æ‰§è¡Œï¼ŒåŒ¹é…åç§°çš„ <em>pre</em> å’Œ <em>post</em> å‘½ä»¤åŒæ ·ä¹Ÿä¼šæ‰§è¡Œã€‚<br><a name="aEYq5"></a></p>
<h3 id="shrinkwrap"><a href="#shrinkwrap" class="headerlink" title="shrinkwrap"></a><a href="https://github.com/theicebear/npm-basic-usage#shrinkwrap" target="_blank" rel="noopener"></a>shrinkwrap</h3><p><code>npm shrinkwrap</code> å¯ä»¥ç”¨æ¥é”å®šä¾èµ–çš„ç‰ˆæœ¬å·ã€‚<br>ä¸€ä¸ªä½¿ç”¨çš„ğŸŒ°ï¼š</p>
<ol>
<li>æˆ‘ä»¬æœ‰æ¨¡å— Aï¼š</li>
</ol>
<p>{<br>  â€œnameâ€: â€œAâ€,<br>  â€œversionâ€: â€œ0.0.1â€,<br>  â€œdependenciesâ€: {<br>    â€œBâ€: â€œ&lt;0.1.0â€<br>  }<br>}</p>
<ol>
<li>æ¨¡å— Bï¼š</li>
</ol>
<p>{<br>  â€œnameâ€: â€œBâ€,<br>  â€œversionâ€: â€œ0.0.1â€,<br>  â€œdependenciesâ€: {<br>    â€œCâ€: â€œ&lt;0.1.0â€<br>  }<br>}</p>
<ol>
<li>å’Œæ¨¡å— Cï¼š</li>
</ol>
<p>{<br>  â€œnameâ€: â€œCâ€,<br>  â€œversionâ€: â€œ0.0.1â€<br>}</p>
<ol>
<li><p>è¿™ä¸‰ä¸ªæ¨¡å—éƒ½åªæœ‰ 0.0.1 è¿™ä¸€ä¸ªç‰ˆæœ¬ã€‚æ­¤æ—¶è¿è¡Œ <code>npm install A</code>ï¼Œå°†ä¼šå¾—åˆ°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">A@0.0.1</span><br><span class="line">`-- B@0.0.1</span><br><span class="line">    `-- C@0.0.1</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¦‚æœæ¨¡å— B å‘å¸ƒäº† 0.0.2 ç‰ˆæœ¬ï¼Œæ­¤æ—¶è¿è¡Œ<code>npm install A</code>ï¼Œå°†ä¼šå¾—åˆ°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">A@0.0.1</span><br><span class="line">`-- B@0.0.2</span><br><span class="line">    `-- C@0.0.1</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½†æ˜¯æ¨¡å— A çš„ä½œè€…å¸Œæœ›å®‰è£…åŸæ¥çš„ç‰ˆæœ¬ï¼Œé‚£ä¹ˆä»–å¯ä»¥è¿è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm shrinkwrap</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç„¶ååœ¨é¡¹ç›®ç›®å½•ä¸‹å¾—åˆ°äº†ä¸€ä¸ª<code>npm-shrinkwrap.json</code>æ–‡ä»¶ï¼š</p>
</li>
</ol>
<p>{<br>  â€œnameâ€: â€œAâ€,<br>  â€œversionâ€: â€œ0.0.1â€,<br>  â€œdependenciesâ€: {<br>    â€œBâ€: {<br>      â€œversionâ€: â€œ0.0.1â€,<br>      â€œfromâ€: â€œB@&lt;0.1.0â€,<br>      â€œresolvedâ€: â€œ<a href="https://registry.npmjs.org/B/-/B-0.0.1.tgz&quot;" target="_blank" rel="noopener">https://registry.npmjs.org/B/-/B-0.0.1.tgz&quot;</a>,<br>      â€œdependenciesâ€: {<br>        â€œCâ€: {<br>          â€œversionâ€: â€œ0.0.1â€,<br>          â€œfromâ€: â€œC@&lt;0.1.0â€,<br>          â€œresolvedâ€: â€œ<a href="https://registry.npmjs.org/C/-/C-0.0.1.tgz&quot;" target="_blank" rel="noopener">https://registry.npmjs.org/C/-/C-0.0.1.tgz&quot;</a><br>        }<br>      }<br>    }<br>  }<br>}</p>
<ol>
<li><code>npm shrinkwrap</code>å‘½ä»¤æ ¹æ®å½“å‰ç›®å½•ä¸­çš„ node_modules ç›®å½•é”å®šäº†ä¾èµ–ç‰ˆæœ¬å·ï¼Œæ­¤æ—¶å†è¿è¡Œ<code>npm install</code>ï¼Œè¯¥å‘½ä»¤çš„è¡Œä¸ºå°†å˜ä¸ºï¼š<ol>
<li>é‡æ–°æ„é€  <code>npm-shrinkwrap.json</code> ä¸­æè¿°çš„ä¾èµ–æ ‘ï¼Œå¦‚æœä¸€ä¸ªä¾èµ–é¡¹ä¸­çš„ <code>resolved</code> å­—æ®µå¯ç”¨ï¼Œåˆ™ä½¿ç”¨è¯¥å­—æ®µè·å–ä¾èµ–ï¼Œå¦åˆ™ä½¿ç”¨ <code>version</code> å­—æ®µæ¥è·å–ä¾èµ–</li>
<li>ä»¥æ™®é€šçš„æ–¹å¼å®‰è£… <code>npm-shrinkwrap.json</code> ä¸­ç¼ºå¤±çš„ä¾èµ–</li>
</ol>
</li>
</ol>
<hr>
<p>æ·»åŠ æˆ–å‡çº§ä¾èµ–åŒ…çš„æ–¹æ³•ï¼š</p>
<ul>
<li><p>æ·»åŠ æˆ–å‡çº§ä¸€ä¸ªä¾èµ–åŒ…</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save &lt;pkg&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å‡çº§æ‰€æœ‰ä¾èµ–åŒ…</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --no-shrinkwrap</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>æ³¨æ„äº‹é¡¹ï¼š</p>
<ol>
<li><p>å¦‚æœ node_modules ç›®å½•ä¸­çš„ä¾èµ–æ¯” <code>package.json</code> ä¸­å®šä¹‰çš„å¤šæˆ–è€…å°‘ï¼Œ<code>npm shrinkwrap</code> å‘½ä»¤å°†ä¼šå¤±è´¥</p>
</li>
<li><p><code>npm shrinkwrap</code> å‘½ä»¤ä¸é”å®š <code>devDependencies</code> ä¸­ä¾èµ–çš„ç‰ˆæœ¬ï¼Œå³ <code>npm-shrinkwrap.json</code> ä¸­ä¸åŒ…å«å¼€å‘ä¾èµ–ï¼›å¦‚æœå¸Œæœ›é”å®šå¼€å‘ä¾èµ–çš„ç‰ˆæœ¬ï¼Œåˆ™éœ€è¦åœ¨è¿è¡Œå‘½ä»¤æ—¶åŠ ä¸Š <code>--dev</code> å‚æ•°</p>
</li>
<li><p>shrinkwrap ä¸ä¼šç»§æ‰¿ï¼Œå³æ‰§è¡Œè¿‡ç¨‹ä¸­ä¸ä¼šè®¿é—®ä¾èµ–çš„ <code>npm-shrinkwrap.json</code> æ–‡ä»¶ï¼›ä½†æ˜¯ï¼Œä¾èµ–ä¸­å¦‚æœæœ‰ <code>npm-shrinkwrap.json</code> æ–‡ä»¶ï¼Œåœ¨å®‰è£…è¯¥ä¾èµ–çš„æ—¶å°±ä¼šæŒ‰ç…§è¿™ä¸ªæ–‡ä»¶æ¥å®‰è£…ç›¸å…³çš„æ¨¡å—åˆ° node_modules ç›®å½•ä¸­ï¼Œå¦‚æœæ²¡æœ‰ <code>npm-shrinkwrap.json</code> æ–‡ä»¶ï¼Œå¼€å‘è€…éœ€è¦åœ¨ä½¿ç”¨ shrinkwrap å‰è‡ªè¡Œç¡®è®¤ node_modules ç›®å½•ä¸­çš„ä¾èµ–éƒ½æ˜¯æœ‰æ•ˆçš„ï¼›shrinkwrap æ€»æ˜¯æ®å½“å‰ç›®å½•ä¸­çš„ node_modules ç›®å½•ä¸­çš„å†…å®¹é”å®šä¾èµ–ç‰ˆæœ¬å·<br><a name="FFYiN"></a></p>
<h3 id="cache"><a href="#cache" class="headerlink" title="cache"></a><a href="https://github.com/theicebear/npm-basic-usage#cache" target="_blank" rel="noopener"></a>cache</h3><p>npm å°†æ•°æ®ç¼“å­˜åœ¨ <code>npm config get cache</code> å‘½ä»¤æŒ‡å®šçš„è·¯å¾„ä¸­ã€‚<br>å½“å±€éƒ¨å®‰è£…ä¸€ä¸ªæ¨¡å—æ—¶ï¼Œnpm ä¼šæ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š</p>
</li>
<li><p>æ£€æŸ¥ç¼“å­˜ä¸­çš„æ¨¡å—ä¿¡æ¯æ–‡ä»¶ï¼ˆ.cache.jsonï¼ŒåŒ…æ‹¬ ETag ç­‰ä¿¡æ¯ï¼‰æ˜¯å¦å­˜åœ¨å¹¶åœ¨å…æ£€æ—¶é—´å†…</p>
</li>
<li><p>å¦‚æœå­˜åœ¨åˆé€‚çš„ç¼“å­˜ä¿¡æ¯æ–‡ä»¶ä¸”æ²¡æœ‰è¶…è¿‡å…æ£€æ—¶é—´ï¼Œæ‰§è¡Œæ­¥éª¤ 6</p>
</li>
<li><p>è·å–è¯¥æ¨¡å—çš„æœ€æ–°ä¿¡æ¯æ–‡ä»¶ï¼Œç„¶åè®¡ç®—å‡ºåˆé€‚çš„æ¨¡å—ç‰ˆæœ¬å·</p>
</li>
<li><p>å¦‚æœç¼“å­˜ä¸­æœ‰è¯¥ç‰ˆæœ¬å·çš„æ¨¡å—ï¼Œåˆ™æ‰§è¡Œæ­¥éª¤ 6</p>
</li>
<li><p>ä¸‹è½½è¯¥ç‰ˆæœ¬å·çš„æ¨¡å—ï¼Œå¹¶å°†å…¶è½½å…¥ç¼“å­˜ä¸­</p>
</li>
<li><p>å–ç¼“å­˜ä¸­çš„æ–‡ä»¶ï¼Œå¹¶å°†å…¶å®‰è£…è‡³ç›®æ ‡è·¯å¾„ä¸­</p>
</li>
</ol>
<p><code>npm cache</code> å‘½ä»¤çš„ç”¨æ³•ï¼š</p>
<ol>
<li><p>å‘ç¼“å­˜ä¸­æ·»åŠ æŒ‡å®šçš„æ¨¡å—ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm cache add &lt;tarball file&gt;</span><br><span class="line">npm cache add &lt;folder&gt;</span><br><span class="line">npm cache add &lt;tarball url&gt;</span><br><span class="line">npm cache add &lt;name&gt;@&lt;version&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ˜¾ç¤ºç¼“å­˜ä¸­çš„æ•°æ®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm cache ls [&lt;path&gt;]</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ¸…ç©ºç¼“å­˜ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm cache clean [&lt;path&gt;]</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>npm ç¼“å­˜çš„æ”¹è¿›æ–¹æ¡ˆï¼š</p>
<ol>
<li><a href="https://github.com/nolanlawson/local-npm" target="_blank" rel="noopener">local-npm</a>ï¼šä¸€ä¸ªæœ¬åœ° npm é•œåƒï¼Œä½†æ˜¯ä»…ç¼“å­˜å·²ç»å®‰è£…è¿‡çš„æ¨¡å—ï¼Œæ²¡æœ‰ç½‘ç»œæ—¶è‡ªåŠ¨å›é€€åˆ°æœ¬åœ°<br></li>
<li><a href="https://github.com/mixu/npm_lazy" target="_blank" rel="noopener">npm_lazy</a></li>
</ol>
<p>è½¬è‡ªï¼š<a href="https://github.com/theicebear/npm-basic-usage" target="_blank" rel="noopener">https://github.com/theicebear/npm-basic-usage</a></p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/07/01/yuque/REST/" rel="next" title="REST">
                <i class="fa fa-chevron-left"></i> REST
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/07/01/yuque/å‰ç«¯æ€§èƒ½ä¼˜åŒ–/" rel="prev" title="å‰ç«¯æ€§èƒ½ä¼˜åŒ–">
                å‰ç«¯æ€§èƒ½ä¼˜åŒ– <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div id="lv-container" data-id="city" data-uid="MTAyMC80NDgxOC8yMTMzOQ=="></div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            æ–‡ç« ç›®å½•
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            ç«™ç‚¹æ¦‚è§ˆ
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/uploads/1916867.png" alt="FangCao">
            
              <p class="site-author-name" itemprop="name">FangCao</p>
              <p class="site-description motion-element" itemprop="description">å¤©ç©ºä¸ç•™ä¸‹é¸Ÿçš„ç—•è¿¹ï¼Œä½†æˆ‘å·²é£è¿‡ï¼›æµæ˜Ÿæ˜¯ç¾ä¸½çš„ä¸ä¸ºæ°¸æ’ï¼Œåªä¸ºç¬é—´</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">100</span>
                  <span class="site-state-item-name">æ—¥å¿—</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">åˆ†ç±»</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">æ ‡ç­¾</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.zhihu.com/people/fang-cao-2-96" target="_blank" title="çŸ¥ä¹">
                      
                        <i class="fa fa-fw fa-zhihu"></i>çŸ¥ä¹</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:wangfangcao7618@gmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://plus.google.com/wangfangcao7618" target="_blank" title="Google">
                      
                        <i class="fa fa-fw fa-google"></i>Google</a>
                  </span>
                
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                å‹æƒ…é“¾æ¥
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="http://macshuo.com/" title="MacTalk" target="_blank">MacTalk</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://example.com/" title="Title" target="_blank">Title</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#åŸºæœ¬ç”¨æ³•"><span class="nav-number">1.</span> <span class="nav-text">åŸºæœ¬ç”¨æ³•</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#å®‰è£…ä¸å‡çº§"><span class="nav-number">1.1.</span> <span class="nav-text">å®‰è£…ä¸å‡çº§</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#å®‰è£…"><span class="nav-number">1.1.1.</span> <span class="nav-text">å®‰è£…</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#å‡çº§"><span class="nav-number">1.1.2.</span> <span class="nav-text">å‡çº§</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„-npm"><span class="nav-number">1.1.3.</span> <span class="nav-text">å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„ npm</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å¸¸ç”¨å‘½ä»¤"><span class="nav-number">1.2.</span> <span class="nav-text">å¸¸ç”¨å‘½ä»¤</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#npm-install"><span class="nav-number">1.2.1.</span> <span class="nav-text">npm install</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#npm-uninstall"><span class="nav-number">1.2.2.</span> <span class="nav-text">npm uninstall</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#npm-update"><span class="nav-number">1.2.3.</span> <span class="nav-text">npm update</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#npm-ls"><span class="nav-number">1.2.4.</span> <span class="nav-text">npm ls</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#npm-adduser"><span class="nav-number">1.2.5.</span> <span class="nav-text">npm adduser</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#npm-init"><span class="nav-number">1.2.6.</span> <span class="nav-text">npm init</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#npm-publish"><span class="nav-number">1.2.7.</span> <span class="nav-text">npm publish</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#npm-unpublish"><span class="nav-number">1.2.8.</span> <span class="nav-text">npm unpublish</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#npm-deprecate"><span class="nav-number">1.2.9.</span> <span class="nav-text">npm deprecate</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#npm-dist-tag"><span class="nav-number">1.2.10.</span> <span class="nav-text">npm dist-tag</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#npm-view"><span class="nav-number">1.2.11.</span> <span class="nav-text">npm view</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#npm-link"><span class="nav-number">1.2.12.</span> <span class="nav-text">npm link</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#npm-conifg"><span class="nav-number">1.2.13.</span> <span class="nav-text">npm conifg</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å·¥ä½œåŸç†"><span class="nav-number">2.</span> <span class="nav-text">å·¥ä½œåŸç†</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å®ç”¨æŠ€å·§"><span class="nav-number">3.</span> <span class="nav-text">å®ç”¨æŠ€å·§</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#pacakge-json"><span class="nav-number">3.1.</span> <span class="nav-text">pacakge.json</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#dependencies"><span class="nav-number">3.1.1.</span> <span class="nav-text">dependencies</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#optionalDependencies"><span class="nav-number">3.1.2.</span> <span class="nav-text">optionalDependencies</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#peerDependencies"><span class="nav-number">3.1.3.</span> <span class="nav-text">peerDependencies</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#bundledDependencies"><span class="nav-number">3.1.4.</span> <span class="nav-text">bundledDependencies</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#bin"><span class="nav-number">3.1.5.</span> <span class="nav-text">bin</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#config"><span class="nav-number">3.1.6.</span> <span class="nav-text">config</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#npmrc"><span class="nav-number">3.2.</span> <span class="nav-text">.npmrc</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#npmignore"><span class="nav-number">3.3.</span> <span class="nav-text">.npmignore</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#scripts"><span class="nav-number">3.4.</span> <span class="nav-text">scripts</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#shrinkwrap"><span class="nav-number">3.5.</span> <span class="nav-text">shrinkwrap</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#cache"><span class="nav-number">3.6.</span> <span class="nav-text">cache</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2012 &mdash; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">FangCao</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">Site words total count&#58;</span>
    
    <span title="Site words total count">95k</span>
  
</div>


  <div class="powered-by">ç”± <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">ä¸»é¢˜ &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  
    <script type="text/javascript">
      (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
      })(document, 'script');
    </script>
  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

  <!--æ·»åŠ å¤åˆ¶-->
  <script type="text/javascript" src="/lib/zclip/clipboard.min.js"></script>
<script type="text/javascript" src="/js/src/custom.js"></script>

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"width":150,"height":300,"position":"right"},"mobile":{"show":true,"scale":0.5},"react":{"opacity":0.9},"dialog":{"enable":true,"hitokoto":true},"log":false});</script></body>
<!-- é¡µé¢ç‚¹å‡»å°çº¢å¿ƒ <script type="text/javascript" src="/js/src/click.js"></script> -->
</html>
